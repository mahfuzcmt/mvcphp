var awk;!function(e){var t;!function(e){var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=/([^\s,]+)/g,r=function(){function e(){}return e.iterateObject=function(e,t){for(var i=Object.keys(e),r=0;r<i.length;r++){var o=i[r],n=e[o];t(o,n)}},e.map=function(e,t){for(var i=[],r=0;r<e.length;r++){var o=e[r],n=t(o);i.push(n)}return i},e.forEach=function(e,t){if(e)for(var i=0;i<e.length;i++){var r=e[i];t(r,i)}},e.assign=function(t,i){e.iterateObject(i,function(e,i){t[e]=i})},e.getFunctionParameters=function(e){var r=e.toString().replace(t,""),o=r.slice(r.indexOf("(")+1,r.indexOf(")")).match(i);return null===o?[]:o},e.find=function(e,t,i){if(null===e||void 0===e)return null;for(var r=0;r<e.length;r++)if(e[r][t]===i)return e[r];return null},e.toStrings=function(e){return this.map(e,function(e){return void 0!==e&&null!==e&&e.toString?e.toString():null})},e.iterateArray=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];t(r,i)}},e.getValue=function(e,t,i,r,o,n,s){var l,a=i.field;if(l=i.valueGetter?this.executeValueGetter(i.valueGetter,e,t,i,o,n,s):a&&t?t[a]:void 0,r&&"string"==typeof l&&0===l.indexOf("=")){var d=l.substring(1);l=this.executeValueGetter(d,e,t,i,o,n,s)}return l},e.executeValueGetter=function(e,t,i,r,o,n,s){var l={data:i,node:o,colDef:r,api:n,context:s};return"function"==typeof e?e(l):"string"==typeof e?t.evaluate(e,l):void 0},e.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},e.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t)},e.makeNull=function(e){return null===e||void 0===e||""===e?null:e},e.removeAllChildren=function(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)},e.removeElement=function(e,t){this.removeFromParent(e.querySelector(t))},e.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},e.isVisible=function(e){return null!==e.offsetParent},e.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},e.querySelectorAll_addCssClass=function(e,t,i){for(var r=e.querySelectorAll(t),o=0;o<r.length;o++)this.addCssClass(r[o],i)},e.querySelectorAll_removeCssClass=function(e,t,i){for(var r=e.querySelectorAll(t),o=0;o<r.length;o++)this.removeCssClass(r[o],i)},e.querySelectorAll_replaceCssClass=function(e,t,i,r){for(var o=e.querySelectorAll(t),n=0;n<o.length;n++)this.removeCssClass(o[n],i),this.addCssClass(o[n],r)},e.addOrRemoveCssClass=function(e,t,i){i?this.addCssClass(e,t):this.removeCssClass(e,t)},e.addCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" ");i.indexOf(t)<0&&(i.push(t),e.className=i.join(" "))}else e.className=t},e.offsetHeight=function(e){return e&&e.clientHeight?e.clientHeight:0},e.offsetWidth=function(e){return e&&e.clientWidth?e.clientWidth:0},e.removeCssClass=function(e,t){if(e.className&&e.className.length>0){var i=e.className.split(" "),r=i.indexOf(t);r>=0&&(i.splice(r,1),e.className=i.join(" "))}},e.removeFromArray=function(e,t){e.splice(e.indexOf(t),1)},e.defaultComparator=function(e,t){var i=null===e||void 0===e,r=null===t||void 0===t;return i&&r?0:i?-1:r?1:t>e?-1:e>t?1:0},e.formatWidth=function(e){return"number"==typeof e?e+"px":e},e.useRenderer=function(e,t,i){var r=t(i);if("string"==typeof r){var o=document.createElement("span");o.innerHTML=r,e.appendChild(o)}else e.appendChild(r)},e.createIcon=function(e,t,i,r){var o,n=document.createElement("span");if(i&&i.colDef.icons&&(o=i.colDef.icons[e]),!o&&t.getIcons()&&(o=t.getIcons()[e]),o){var s;if("function"==typeof o)s=o();else{if("string"!=typeof o)throw"icon from grid options needs to be a string or a function";s=o}if("string"==typeof s)n.innerHTML=s;else{if(!this.isNodeOrElement(s))throw"iconRenderer should return back a string or a dom object";n.appendChild(s)}}else n.appendChild(r());return n},e.addStylesToElement=function(e,t){Object.keys(t).forEach(function(i){e.style[i]=t[i]})},e.getScrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var r=i.offsetWidth;return e.parentNode.removeChild(e),t-r},e.isKeyPressed=function(e,t){var i=e.which||e.keyCode;return i===t},e.setVisible=function(e,t){e.style.display=t?"inline":"none"},e.isBrowserIE=function(){return this.isIE},e.isBrowserSafari=function(){return this.isSafari},e.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,e.isIE=!1||!!document.documentMode,e}();e.Utils=r}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.ASC="asc",e.DESC="desc",e.ROW_BUFFER_SIZE=20,e.MIN_COL_WIDTH=10,e.SUM="sum",e.MIN="min",e.MAX="max",e.KEY_TAB=9,e.KEY_ENTER=13,e.KEY_SPACE=32,e.KEY_DOWN=40,e.KEY_UP=38,e.KEY_LEFT=37,e.KEY_RIGHT=39,e}();e.Constants=t}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=e.Constants,r=function(){function e(){this.listeners=[],this.createModel()}return e.prototype.init=function(e,t,i,r){this.gridOptionsWrapper=i,this.angularGrid=e,this.selectionRendererFactory=t,this.expressionService=r},e.prototype.createModel=function(){var e=this;this.model={getAllColumns:function(){return e.allColumns},getDisplayedColumns:function(){return e.displayedColumns},getGroupedColumns:function(){return e.pivotColumns},getValueColumns:function(){return e.valueColumns},getBodyContainerWidth:function(){return e.getTotalColWidth(!1)},getPinnedContainerWidth:function(){return e.getTotalColWidth(!0)},getHeaderGroups:function(){return e.headerGroups},getColumn:function(t){return e.getColumn(t)},getVisibleColBefore:function(t){var i=e.visibleColumns.indexOf(t);return i>0?e.visibleColumns[i-1]:null},getVisibleColAfter:function(t){var i=e.visibleColumns.indexOf(t);return i<e.visibleColumns.length-1?e.visibleColumns[i+1]:null},getDisplayNameForCol:function(t){return e.getDisplayNameForCol(t)}}},e.prototype.getState=function(){if(!this.allColumns||this.allColumns.length<0)return[];for(var e=[],t=0;t<this.allColumns.length;t++){var i=this.allColumns[t],r=this.pivotColumns.indexOf(i),o={colId:i.colId,hide:!i.visible,aggFunc:i.aggFunc?i.aggFunc:null,width:i.actualWidth,pivotIndex:r>=0?r:null};e.push(o)}return e},e.prototype.setState=function(e){var r=this.allColumns;this.allColumns=[],this.pivotColumns=[],this.valueColumns=[];var o=this;t.forEach(e,function(e){var n=t.find(r,"colId",e.colId);if(!n)return void console.warn("ag-grid: column "+e.colId+" not found");n.visible=e.hide?!1:!0,n.actualWidth=e.width>=i.MIN_COL_WIDTH?e.width:n.actualWidth;var s=[i.MIN,i.MAX,i.SUM].indexOf(e.aggFunc)>=0;s?(n.aggFunc=e.aggFunc,o.valueColumns.push(n)):n.aggFunc=null,"number"==typeof e.pivotIndex&&e.pivotIndex>=0&&o.pivotColumns.push(n),o.allColumns.push(n),r.splice(r.indexOf(n),1)}),t.forEach(r,function(e){e.visible=!1,e.aggFunc=null,o.allColumns.push(e)}),this.pivotColumns.sort(function(e,t){return e.pivotIndex-t.pivotIndex}),this.updateModel(),this.fireColumnsChanged()},e.prototype.getColumn=function(e){for(var t=0;t<this.allColumns.length;t++){var i=this.allColumns[t].colDef===e,r=this.allColumns[t].colDef.field===e;if(i||r)return this.allColumns[t]}},e.prototype.getDisplayNameForCol=function(e){var i=e.colDef,r=i.headerValueGetter;if(r){var o={colDef:i,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof r?r(o):"string"==typeof r?this.expressionService.evaluate(r,o):t.getValue(this.expressionService,void 0,i)}return i.displayName?(console.warn("ag-grid: Found displayName "+i.displayName+", please use headerName instead, displayName is deprecated."),i.displayName):i.headerName},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.fireColumnsChanged=function(){for(var e=0;e<this.listeners.length;e++)this.listeners[e].columnsChanged(this.allColumns,this.pivotColumns,this.valueColumns)},e.prototype.getModel=function(){return this.model},e.prototype.setColumns=function(e){this.checkForDeprecatedItems(e),this.createColumns(e),this.createPivotColumns(),this.createValueColumns(),this.updateModel(),this.fireColumnsChanged()},e.prototype.checkForDeprecatedItems=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];void 0!==i.group&&(console.warn("ag-grid: "+i.field+" colDef.group is deprecated, please use colDef.headerGroup"),i.headerGroup=i.group),void 0!==i.groupShow&&(console.warn("ag-grid: "+i.field+" colDef.groupShow is deprecated, please use colDef.headerGroupShow"),i.headerGroupShow=i.groupShow)}},e.prototype.headerGroupOpened=function(e){e.expanded=!e.expanded,this.updateGroups(),this.updateDisplayedColumns(),this.angularGrid.refreshHeaderAndBody()},e.prototype.onColumnStateChanged=function(){this.updateModel(),this.angularGrid.refreshHeaderAndBody()},e.prototype.hideColumns=function(e,t){for(var i=0;i<this.allColumns.length;i++){var r=this.allColumns[i].colId,o=e.indexOf(r)>=0;o&&(this.allColumns[i].visible=!t)}this.onColumnStateChanged(),this.fireColumnsChanged()},e.prototype.updateModel=function(){this.updateVisibleColumns(),this.updatePinnedColumns(),this.buildGroups(),this.updateGroups(),this.updateDisplayedColumns()},e.prototype.updateDisplayedColumns=function(){if(this.gridOptionsWrapper.isGroupHeaders()){this.displayedColumns=[];for(var e=0;e<this.headerGroups.length;e++){var t=this.headerGroups[e];t.addToVisibleColumns(this.displayedColumns)}}else this.displayedColumns=this.visibleColumns},e.prototype.sizeColumnsToFit=function(e){if(!(0>=e||0===this.displayedColumns.length)){for(var t=0,i=[],r=e,o=0;o<this.displayedColumns.length;o++)this.displayedColumns[o].colDef.suppressSizeToFit===!0?r-=this.displayedColumns[o].actualWidth:(i.push(this.displayedColumns[o]),t+=this.displayedColumns[o].actualWidth);if(!(0>=r)){for(var n=r/t,s=r,l=0;l<i.length-1;l++){var a=i[l],d=Math.round(a.actualWidth*n);a.actualWidth=d,s-=d}var u=i[i.length-1];u.actualWidth=s,this.angularGrid.refreshHeaderAndBody()}}},e.prototype.buildGroups=function(){if(!this.gridOptionsWrapper.isGroupHeaders())return void(this.headerGroups=null);var e=null;this.headerGroups=[];var t=this,i=!0;this.visibleColumns.forEach(function(r){var n=i&&!r.pinned;r.pinned||(i=!1);var s=e&&r.colDef.headerGroup!==e.name,l=e&&!e.name,a=null===e,d=a||n||s||l;if(d){var u=r.pinned;e=new o(u,r.colDef.headerGroup),t.headerGroups.push(e)}e.addColumn(r)})},e.prototype.updateGroups=function(){if(this.gridOptionsWrapper.isGroupHeaders())for(var e=0;e<this.headerGroups.length;e++){var t=this.headerGroups[e];t.calculateExpandable(),t.calculateDisplayedColumns()}},e.prototype.updateVisibleColumns=function(){this.visibleColumns=[];var e=this.pivotColumns.length>0&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow(),t=this.gridOptionsWrapper.getLocaleTextFunc();if(e){var i=this.gridOptionsWrapper.getGroupColumnDef();i||(i={headerName:t("group","Group"),cellRenderer:{renderer:"group"}});var r=new n(i,this.gridOptionsWrapper.getColWidth());this.visibleColumns.push(r)}for(var o=0;o<this.allColumns.length;o++){var s=this.allColumns[o],l=this.pivotColumns.indexOf(s)>=0&&this.gridOptionsWrapper.isGroupHidePivotColumns();s.visible&&!l&&(s.index=this.visibleColumns.length,this.visibleColumns.push(this.allColumns[o]))}},e.prototype.updatePinnedColumns=function(){for(var e=this.gridOptionsWrapper.getPinnedColCount(),t=0;t<this.visibleColumns.length;t++){var i=e>t;this.visibleColumns[t].pinned=i}},e.prototype.createColumns=function(e){this.allColumns=[];var t=this;if(e)for(var i=0;i<e.length;i++){var r=e[i];"checkboxSelection"===r&&(r=t.selectionRendererFactory.createCheckboxColDef());var o=t.calculateColInitialWidth(r),s=new n(r,o);t.allColumns.push(s)}},e.prototype.createPivotColumns=function(){this.pivotColumns=[];var e=this.gridOptionsWrapper.getGroupKeys();if(e&&!(e.length<=0))for(var t=0;t<e.length;t++){var i=e[t],r=this.getColumn(i);r||(r=this.createDummyColumn(i)),this.pivotColumns.push(r)}},e.prototype.createValueColumns=function(){this.valueColumns=[];for(var e=0;e<this.allColumns.length;e++){var t=this.allColumns[e];t.colDef.aggFunc&&(t.aggFunc=t.colDef.aggFunc,this.valueColumns.push(t))}},e.prototype.createDummyColumn=function(e){var t={field:e,headerName:e,hide:!1},i=this.gridOptionsWrapper.getColWidth(),r=new n(t,i);return r},e.prototype.calculateColInitialWidth=function(e){return e.width?e.width<i.MIN_COL_WIDTH?i.MIN_COL_WIDTH:e.width:this.gridOptionsWrapper.getColWidth()},e.prototype.getTotalColWidth=function(e){var t=0,i="boolean"!=typeof e;return this.displayedColumns.forEach(function(r){var o=i||r.pinned===e;o&&(t+=r.actualWidth)}),t},e}();e.ColumnController=r;var o=function(){function e(e,t){this.allColumns=[],this.displayedColumns=[],this.expandable=!1,this.expanded=!1,this.pinned=e,this.name=t}return e.prototype.addColumn=function(e){this.allColumns.push(e)},e.prototype.calculateExpandable=function(){for(var e=!1,t=!1,i=!1,r=0,o=this.allColumns.length;o>r;r++){var n=this.allColumns[r];"open"===n.colDef.headerGroupShow?(e=!0,i=!0):"closed"===n.colDef.headerGroupShow?(t=!0,i=!0):(e=!0,t=!0)}this.expandable=e&&t&&i},e.prototype.calculateDisplayedColumns=function(){if(this.displayedColumns=[],!this.expandable)return void(this.displayedColumns=this.allColumns);for(var e=0,t=this.allColumns.length;t>e;e++){var i=this.allColumns[e];switch(i.colDef.headerGroupShow){case"open":this.expanded&&this.displayedColumns.push(i);break;case"closed":this.expanded||this.displayedColumns.push(i);break;default:this.displayedColumns.push(i)}}},e.prototype.addToVisibleColumns=function(e){for(var t=0;t<this.displayedColumns.length;t++){var i=this.displayedColumns[t];e.push(i)}},e}(),n=function(){function e(t,i){this.colDef=t,this.actualWidth=i,this.visible=!t.hide,this.colId=t.colId?t.colId:t.field?t.field:""+e.colIdSequence++}return e.colIdSequence=0,e}();e.Column=n}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=function(){function e(){this.expressionToFunctionCache={}}return e.prototype.evaluate=function(e,t){try{var i=this.createExpressionFunction(e),r=i(t.value,t.context,t.node,t.data,t.colDef,t.rowIndex,t.api);return r}catch(o){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Exception = "+o),null}},e.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),i=new Function("x, ctx, node, data, colDef, rowIndex, api",t);return this.expressionToFunctionCache[e]=i,i},e.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},e}();e.ExpressionService=t}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){function t(e){return e===!0||"true"===e}var i=30,r=e.Constants,o=function(){function e(e){this.gridOptions=e,this.setupDefaults()}return e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isRowDeselection=function(){return t(this.gridOptions.rowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isVirtualPaging=function(){return t(this.gridOptions.virtualPaging)},e.prototype.isShowToolPanel=function(){return t(this.gridOptions.showToolPanel)},e.prototype.isToolPanelSuppressPivot=function(){return t(this.gridOptions.toolPanelSuppressPivot)},e.prototype.isToolPanelSuppressValues=function(){return t(this.gridOptions.toolPanelSuppressValues)},e.prototype.isRowsAlreadyGrouped=function(){return t(this.gridOptions.rowsAlreadyGrouped)},e.prototype.isGroupSelectsChildren=function(){return t(this.gridOptions.groupSelectsChildren)},e.prototype.isGroupHidePivotColumns=function(){return t(this.gridOptions.groupHidePivotColumns)},e.prototype.isGroupIncludeFooter=function(){return t(this.gridOptions.groupIncludeFooter)},e.prototype.isSuppressRowClickSelection=function(){return t(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return t(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressUnSort=function(){return t(this.gridOptions.suppressUnSort)},e.prototype.isSuppressMultiSort=function(){return t(this.gridOptions.suppressMultiSort)},e.prototype.isGroupSuppressAutoColumn=function(){return t(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isGroupHeaders=function(){return t(this.gridOptions.groupHeaders)},e.prototype.isDontUseScrolls=function(){return t(this.gridOptions.dontUseScrolls)},e.prototype.isSuppressDescSort=function(){return t(this.gridOptions.suppressDescSort)},e.prototype.isUnSortIcon=function(){return t(this.gridOptions.unSortIcon)},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.isEnableColResize=function(){return t(this.gridOptions.enableColResize)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getGroupKeys=function(){return this.gridOptions.groupKeys},e.prototype.getGroupAggFunction=function(){return this.gridOptions.groupAggFunction},e.prototype.getGroupAggFields=function(){return this.gridOptions.groupAggFields},e.prototype.getAllRows=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(){return t(this.gridOptions.groupUseEntireRow)},e.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},e.prototype.isAngularCompileRows=function(){return t(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return t(this.gridOptions.angularCompileFilters)},e.prototype.isAngularCompileHeaders=function(){return t(this.gridOptions.angularCompileHeaders)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getRowHeight=function(){return this.gridOptions.rowHeight},e.prototype.getBeforeFilterChanged=function(){return this.gridOptions.beforeFilterChanged},e.prototype.getAfterFilterChanged=function(){return this.gridOptions.afterFilterChanged},e.prototype.getBeforeSortChanged=function(){return this.gridOptions.beforeSortChanged},e.prototype.getAfterSortChanged=function(){return this.gridOptions.afterSortChanged},e.prototype.getModelUpdated=function(){return this.gridOptions.modelUpdated},e.prototype.getCellClicked=function(){return this.gridOptions.cellClicked},e.prototype.getCellDoubleClicked=function(){return this.gridOptions.cellDoubleClicked},e.prototype.getCellValueChanged=function(){return this.gridOptions.cellValueChanged},e.prototype.getCellFocused=function(){return this.gridOptions.cellFocused},e.prototype.getRowSelected=function(){return this.gridOptions.rowSelected},e.prototype.getColumnResized=function(){return this.gridOptions.columnResized},e.prototype.getColumnVisibilityChanged=function(){return this.gridOptions.columnVisibilityChanged},e.prototype.getColumnOrderChanged=function(){return this.gridOptions.columnOrderChanged},e.prototype.getSelectionChanged=function(){return this.gridOptions.selectionChanged},e.prototype.getVirtualRowRemoved=function(){return this.gridOptions.virtualRowRemoved},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getReady=function(){return this.gridOptions.ready},e.prototype.getRowBuffer=function(){return this.gridOptions.rowBuffer},e.prototype.isEnableSorting=function(){return t(this.gridOptions.enableSorting)||t(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableCellExpressions=function(){return t(this.gridOptions.enableCellExpressions)},e.prototype.isEnableServerSideSorting=function(){return t(this.gridOptions.enableServerSideSorting)},e.prototype.isEnableFilter=function(){return t(this.gridOptions.enableFilter)||t(this.gridOptions.enableServerSideFilter)},e.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},e.prototype.isSuppressScrollLag=function(){return t(this.gridOptions.suppressScrollLag)},e.prototype.setSelectedRows=function(e){return this.gridOptions.selectedRows=e},e.prototype.setSelectedNodesById=function(e){return this.gridOptions.selectedNodesById=e},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},e.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupInnerRenderer?(console.warn("ag-grid: as of v1.10.0 (21st Jun 2015) groupInnerRenderer is now called groupRowInnerRenderer. Please change you code as groupInnerRenderer is deprecated."),this.gridOptions.groupInnerRenderer):this.gridOptions.groupRowInnerRenderer},e.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<r.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.isGroupHeaders()?50:25},e.prototype.setupDefaults=function(){this.gridOptions.rowHeight||(this.gridOptions.rowHeight=i)},e.prototype.getPinnedColCount=function(){return this.isDontUseScrolls()?0:this.gridOptions.pinnedColumnCount?Number(this.gridOptions.pinnedColumnCount):0},e.prototype.getLocaleTextFunc=function(){var e=this;return function(t,i){var r=e.gridOptions.localeText;return r&&r[t]?r[t]:i}},e}();e.GridOptionsWrapper=o}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[CONTAINS]</option><option value="2">[EQUALS]</option><option value="3">[STARTS WITH]</option><option value="4">[ENDS WITH]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">Apply Filter</button></div></div>',r=1,o=2,n=3,s=4,l=function(){function e(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&1==this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterText=null,this.filterType=r,this.createApi()}return e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction;e||(this.api.setType(r),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(!this.filterText)return!0;var t=this.valueGetter(e);if(!t)return!1;var i=t.toString().toLowerCase();switch(this.filterType){case r:return i.indexOf(this.filterText)>=0;case o:return i===this.filterText;case n:return 0===i.indexOf(this.filterText);case s:var l=i.indexOf(this.filterText);return l>=0&&l===i.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterText},e.prototype.createTemplate=function(){return i.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with"))},e.prototype.createGui=function(){this.eGui=t.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),t.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):t.removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.onFilterChanged=function(){var e=t.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null),this.filterText=e?e.toLowerCase():null,this.filterChanged()},e.prototype.filterChanged=function(){this.applyActive||this.filterChangedCallback()},e.prototype.createApi=function(){var e=this;this.api={EQUALS:o,CONTAINS:r,STARTS_WITH:n,ENDS_WITH:s,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(i){i=t.makeNull(i),i?(e.filterText=i.toLowerCase(),e.eFilterTextField.value=i):(e.filterText=null,e.eFilterTextField.value=null)},getType:function(){return e.filterType},getFilter:function(){return e.filterText},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterText}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();e.TextFilter=l}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[EQUALS]</option><option value="2">[LESS THAN]</option><option value="3">[GREATER THAN]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">Apply Filter</button></div></div>',r=1,o=2,n=3,s=function(){function e(e){this.filterParams=e.filterParams,this.applyActive=this.filterParams&&1==this.filterParams.apply,this.filterChangedCallback=e.filterChangedCallback,this.localeTextFunc=e.localeTextFunc,this.valueGetter=e.valueGetter,this.createGui(),this.filterNumber=null,this.filterType=r,this.createApi()}return e.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction;e||(this.api.setType(r),this.api.setFilter(null))},e.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},e.prototype.doesFilterPass=function(e){if(null===this.filterNumber)return!0;var t=this.valueGetter(e);if(!t&&0!==t)return!1;var i;switch(i="number"==typeof t?t:parseFloat(t),this.filterType){case r:return i===this.filterNumber;case o:return i<this.filterNumber;case n:return i>this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}},e.prototype.getGui=function(){return this.eGui},e.prototype.isFilterActive=function(){return null!==this.filterNumber},e.prototype.createTemplate=function(){return i.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than"))},e.prototype.createGui=function(){this.eGui=t.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),t.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},e.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):t.removeElement(this.eGui,"#applyPanel")},e.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},e.prototype.filterChanged=function(){this.applyActive||this.filterChangedCallback()},e.prototype.onFilterChanged=function(){var e=t.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null),this.filterNumber=e?parseFloat(e):null,this.filterChanged()},e.prototype.createApi=function(){var e=this;this.api={EQUALS:r,LESS_THAN:o,GREATER_THAN:n,setType:function(t){e.filterType=t,e.eTypeSelect.value=t},setFilter:function(i){i=t.makeNull(i),null!==i&&"number"!=typeof i&&(i=parseFloat(i)),e.filterNumber=i,e.eFilterTextField.value=i},getType:function(){return e.filterType},getFilter:function(){return e.filterNumber},getModel:function(){return e.isFilterActive()?{type:e.filterType,filter:e.filterNumber}:null},setModel:function(e){e?(this.setType(e.type),this.setFilter(e.filter)):this.setFilter(null)}}},e.prototype.getApi=function(){return this.api},e}();e.NumberFilter=s}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(e,t,i){this.colDef=e,this.rowModel=t,this.valueGetter=i,this.createUniqueValues(),this.displayedValues=this.uniqueValues,this.miniFilter=null,this.selectedValuesMap={},this.selectEverything()}return e.prototype.refreshUniqueValues=function(e){this.createUniqueValues();var t=Object.keys(this.selectedValuesMap);this.selectedValuesMap={},this.filterDisplayedValues(),e?this.setModel(t):this.selectEverything()},e.prototype.createUniqueValues=function(){this.uniqueValues=t.toStrings(this.colDef.filterParams&&this.colDef.filterParams.values?this.colDef.filterParams.values:this.iterateThroughNodesForValues()),this.uniqueValues.sort(this.colDef.comparator?this.colDef.comparator:t.defaultComparator)},e.prototype.iterateThroughNodesForValues=function(){function e(o){for(var n=0;n<o.length;n++){var s=o[n];if(s.group&&!s.footer)e(s.children);else{var l=r.valueGetter(s);(""===l||void 0===l)&&(l=null),t.hasOwnProperty(l)||(i.push(l),t[l]=1)}}}var t={},i=[],r=this,o=this.rowModel.getTopLevelNodes();return e(o),i},e.prototype.setMiniFilter=function(e){return e=t.makeNull(e),this.miniFilter===e?!1:(this.miniFilter=e,this.filterDisplayedValues(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilter},e.prototype.filterDisplayedValues=function(){if(null===this.miniFilter)return void(this.displayedValues=this.uniqueValues);this.displayedValues=[];for(var e=this.miniFilter.toUpperCase(),t=0,i=this.uniqueValues.length;i>t;t++){var r=this.uniqueValues[t];null!==r&&r.toString().toUpperCase().indexOf(e)>=0&&this.displayedValues.push(r)}},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.selectEverything=function(){for(var e=this.uniqueValues.length,t=0;e>t;t++){var i=this.uniqueValues[t];this.selectedValuesMap[i]=null}this.selectedValuesCount=e},e.prototype.isFilterActive=function(){return this.uniqueValues.length!==this.selectedValuesCount},e.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},e.prototype.getUniqueValueCount=function(){return this.uniqueValues.length},e.prototype.getUniqueValue=function(e){return this.uniqueValues[e]},e.prototype.unselectValue=function(e){void 0!==this.selectedValuesMap[e]&&(delete this.selectedValuesMap[e],this.selectedValuesCount--)},e.prototype.selectValue=function(e){void 0===this.selectedValuesMap[e]&&(this.selectedValuesMap[e]=null,this.selectedValuesCount++)},e.prototype.isValueSelected=function(e){return void 0!==this.selectedValuesMap[e];

},e.prototype.isEverythingSelected=function(){return this.uniqueValues.length===this.selectedValuesCount},e.prototype.isNothingSelected=function(){return 0===this.uniqueValues.length},e.prototype.getModel=function(){if(!this.isFilterActive())return null;var e=[];return t.iterateObject(this.selectedValuesMap,function(t){e.push(t)}),e},e.prototype.setModel=function(e){if(e){this.selectNothing();for(var t=0;t<e.length;t++){var i=e[t];this.uniqueValues.indexOf(i)>=0?this.selectValue(e[t]):console.warn("Value "+i+" is not a valid value for filter")}}else this.selectEverything()},e}();e.SetFilterModel=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i='<div><div class="ag-filter-header-container"><input class="ag-filter-filter" type="text" placeholder="[SEARCH...]"/></div><div class="ag-filter-header-container"><label><input id="selectAll" type="checkbox" class="ag-filter-checkbox"/>([SELECT ALL])</label></div><div class="ag-filter-list-viewport"><div class="ag-filter-list-container"><div id="itemForRepeat" class="ag-filter-item"><label><input type="checkbox" class="ag-filter-checkbox" filter-checkbox="true"/><span class="ag-filter-value"></span></label></div></div></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">Apply Filter</button></div></div>',r=20,o=function(){function o(t){this.filterParams=t.filterParams,this.rowHeight=this.filterParams&&this.filterParams.cellHeight?this.filterParams.cellHeight:r,this.applyActive=this.filterParams&&1==this.filterParams.apply,this.model=new e.SetFilterModel(t.colDef,t.rowModel,t.valueGetter),this.filterChangedCallback=t.filterChangedCallback,this.valueGetter=t.valueGetter,this.rowsInBodyContainer={},this.colDef=t.colDef,this.localeTextFunc=t.localeTextFunc,this.filterParams&&(this.cellRenderer=this.filterParams.cellRenderer),this.createGui(),this.addScrollListener(),this.createApi()}return o.prototype.afterGuiAttached=function(){this.drawVirtualRows()},o.prototype.isFilterActive=function(){return this.model.isFilterActive()},o.prototype.doesFilterPass=function(e){if(this.model.isEverythingSelected())return!0;if(this.model.isNothingSelected())return!1;var i=this.valueGetter(e);i=t.makeNull(i);var r=this.model.isValueSelected(i);return r},o.prototype.getGui=function(){return this.eGui},o.prototype.onNewRowsLoaded=function(){var e=this.filterParams&&"keep"===this.filterParams.newRowsAction;this.model.refreshUniqueValues(e),this.setContainerHeight(),this.refreshVirtualRows()},o.prototype.createTemplate=function(){return i.replace("[SELECT ALL]",this.localeTextFunc("selectAll","Select All")).replace("[SEARCH...]",this.localeTextFunc("searchOoo","Search..."))},o.prototype.createGui=function(){var e=this;this.eGui=t.loadTemplate(this.createTemplate()),this.eListContainer=this.eGui.querySelector(".ag-filter-list-container"),this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat"),this.eSelectAll=this.eGui.querySelector("#selectAll"),this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport"),this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter"),this.eListContainer.style.height=this.model.getUniqueValueCount()*this.rowHeight+"px",this.setContainerHeight(),this.eMiniFilter.value=this.model.getMiniFilter(),t.addChangeListener(this.eMiniFilter,function(){e.onMiniFilterChanged()}),t.removeAllChildren(this.eListContainer),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0,this.setupApply()},o.prototype.setupApply=function(){var e=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){e.filterChangedCallback()})):t.removeElement(this.eGui,"#applyPanel")},o.prototype.setContainerHeight=function(){this.eListContainer.style.height=this.model.getDisplayedValueCount()*this.rowHeight+"px"},o.prototype.drawVirtualRows=function(){var e=this.eListViewport.scrollTop,t=e+this.eListViewport.offsetHeight,i=Math.floor(e/this.rowHeight),r=Math.floor(t/this.rowHeight);this.ensureRowsRendered(i,r)},o.prototype.ensureRowsRendered=function(e,t){for(var i=this,r=Object.keys(this.rowsInBodyContainer),o=e;t>=o;o++)if(r.indexOf(o.toString())>=0)r.splice(r.indexOf(o.toString()),1);else if(this.model.getDisplayedValueCount()>o){var n=this.model.getDisplayedValue(o);i.insertRow(n,o)}this.removeVirtualRows(r)},o.prototype.removeVirtualRows=function(e){var t=this;e.forEach(function(e){var i=t.rowsInBodyContainer[e];t.eListContainer.removeChild(i),delete t.rowsInBodyContainer[e]})},o.prototype.insertRow=function(e,i){var r=this,o=this.eFilterValueTemplate.cloneNode(!0),n=o.querySelector(".ag-filter-value");if(this.cellRenderer){var s=this.cellRenderer({value:e});t.isNode(s)?n.appendChild(s):n.innerHTML=s}else{var l="("+this.localeTextFunc("blanks","Blanks")+")",a=null===e?l:e;n.innerHTML=a}var d=o.querySelector("input");d.checked=this.model.isValueSelected(e),d.onclick=function(){r.onCheckboxClicked(d,e)},o.style.top=this.rowHeight*i+"px",this.eListContainer.appendChild(o),this.rowsInBodyContainer[i]=o},o.prototype.onCheckboxClicked=function(e,t){var i=e.checked;i?(this.model.selectValue(t),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(t),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0),this.filterChanged()},o.prototype.filterChanged=function(){this.applyActive||this.filterChangedCallback()},o.prototype.onMiniFilterChanged=function(){var e=this.model.setMiniFilter(this.eMiniFilter.value);e&&(this.setContainerHeight(),this.refreshVirtualRows())},o.prototype.refreshVirtualRows=function(){this.clearVirtualRows(),this.drawVirtualRows()},o.prototype.clearVirtualRows=function(){var e=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(e)},o.prototype.onSelectAll=function(){var e=this.eSelectAll.checked;e?this.model.selectEverything():this.model.selectNothing(),this.updateAllCheckboxes(e),this.filterChanged()},o.prototype.updateAllCheckboxes=function(e){for(var t=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),i=0,r=t.length;r>i;i++)t[i].checked=e},o.prototype.addScrollListener=function(){var e=this;this.eListViewport.addEventListener("scroll",function(){e.drawVirtualRows()})},o.prototype.getApi=function(){return this.api},o.prototype.createApi=function(){var e=this.model,t=this;this.api={setMiniFilter:function(t){e.setMiniFilter(t)},getMiniFilter:function(){return e.getMiniFilter()},selectEverything:function(){e.selectEverything()},isFilterActive:function(){return e.isFilterActive()},selectNothing:function(){e.selectNothing()},unselectValue:function(i){e.unselectValue(i),t.refreshVirtualRows()},selectValue:function(i){e.selectValue(i),t.refreshVirtualRows()},isValueSelected:function(t){return e.isValueSelected(t)},isEverythingSelected:function(){return e.isEverythingSelected()},isNothingSelected:function(){return e.isNothingSelected()},getUniqueValueCount:function(){return e.getUniqueValueCount()},getUniqueValue:function(t){return e.getUniqueValue(t)},getModel:function(){return e.getModel()},setModel:function(i){e.setModel(i),t.refreshVirtualRows()}}},o}();e.SetFilter=o}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(){}return e.prototype.init=function(e){this.ePopupParent=e},e.prototype.positionPopup=function(e,t,i){var r=e.getBoundingClientRect(),o=this.ePopupParent.getBoundingClientRect(),n=r.left-o.left,s=r.top-o.top+r.height;if(i>0){var l=o.right-o.left,a=l-i;n>a&&(n=a),0>n&&(n=0)}t.style.left=n+"px",t.style.top=s+"px"},e.prototype.addAsModalPopup=function(e){function i(t){t&&t===s||(l.ePopupParent.removeChild(e),o.removeEventListener("click",i),e.removeEventListener("click",r))}function r(e){s=e}var o=document.body;if(!o)return void console.warn("ag-grid: could not find the body of the document, document.body is empty");var n=t.isVisible(e);if(!n){this.ePopupParent.appendChild(e),setTimeout(function(){o.addEventListener("click",i),e.addEventListener("click",r)},0);var s=null,l=this;return i}},e}();e.PopupService=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(){}return i.prototype.init=function(e,t,i,r,o,n,s){this.$compile=i,this.$scope=r,this.gridOptionsWrapper=t,this.grid=e,this.allFilters={},this.expressionService=o,this.columnModel=n,this.popupService=s},i.prototype.setFilterModel=function(e){var i=this;if(e){var r=Object.keys(e);t.iterateObject(this.allFilters,function(o,n){var s=n.column.colDef.field;if(t.removeFromArray(r,s),s){var l=e[s];i.setModelOnFilterWrapper(n.filter,l)}else console.warn("Warning ag-grid - no field found for column while doing setFilterModel")}),t.iterateArray(r,function(t){var r=i.columnModel.getColumn(t);if(!r)return void console.warn("Warning ag-grid - no column found for field "+t);var o=i.getOrCreateFilterWrapper(r);i.setModelOnFilterWrapper(o.filter,e[t])})}else t.iterateObject(this.allFilters,function(e,t){i.setModelOnFilterWrapper(t.filter,null)})},i.prototype.setModelOnFilterWrapper=function(e,t){if("function"!=typeof e.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var i=e.getApi();return"function"!=typeof i.setModel?void console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel"):void i.setModel(t)},i.prototype.getFilterModel=function(){var e={};return t.iterateObject(this.allFilters,function(t,i){if("function"!=typeof i.filter.getApi)return void console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");var r=i.filter.getApi();if("function"!=typeof r.getModel)return void console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel");var o=r.getModel();if(o){var n=i.column.colDef.field;n?e[n]=o:console.warn("Warning ag-grid - cannot get filter model when no field value present for column")}}),e},i.prototype.setRowModel=function(e){this.rowModel=e},i.prototype.isFilterPresent=function(){var e=!1,t=this,i=Object.keys(this.allFilters);return i.forEach(function(i){var r=t.allFilters[i];r.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),r.filter.isFilterActive()&&(e=!0)}),e},i.prototype.isFilterPresentForCol=function(e){var t=this.allFilters[e];if(!t)return!1;t.filter.isFilterActive||console.error("Filter is missing method isFilterActive");var i=t.filter.isFilterActive();return i},i.prototype.doesFilterPass=function(e){for(var t=e.data,i=Object.keys(this.allFilters),r=0,o=i.length;o>r;r++){var n=i[r],s=this.allFilters[n];if(void 0!==s){s.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");var l={node:e,data:t};if(!s.filter.doesFilterPass(l))return!1}}return!0},i.prototype.onNewRowsLoaded=function(){var e=this;Object.keys(this.allFilters).forEach(function(t){var i=e.allFilters[t].filter;i.onNewRowsLoaded&&i.onNewRowsLoaded()})},i.prototype.createValueGetter=function(e){var i=this;return function(r){var o=i.gridOptionsWrapper.getApi(),n=i.gridOptionsWrapper.getContext(),s=i.gridOptionsWrapper.isEnableCellExpressions();return t.getValue(i.expressionService,r.data,e,s,r,o,n)}},i.prototype.getFilterApi=function(e){var t=this.getOrCreateFilterWrapper(e);return t&&"function"==typeof t.filter.getApi?t.filter.getApi():void 0},i.prototype.getOrCreateFilterWrapper=function(e){var t=this.allFilters[e.colId];return t||(t=this.createFilterWrapper(e),this.allFilters[e.colId]=t),t},i.prototype.createFilterWrapper=function(i){var r=i.colDef,o={column:i,filter:null,scope:null,gui:null},n=this.grid.onFilterChanged.bind(this.grid),s=r.filterParams,l={colDef:r,rowModel:this.rowModel,filterChangedCallback:n,filterParams:s,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(r),$scope:null};if("function"==typeof r.filter){if(this.gridOptionsWrapper.isAngularCompileFilters()){var a=this.$scope.$new();o.scope=a,l.$scope=a}o.filter=new r.filter(l)}else o.filter="text"===r.filter?new e.TextFilter(l):"number"===r.filter?new e.NumberFilter(l):new e.SetFilter(l);if(!o.filter.getGui)throw"Filter is missing method getGui";var d=document.createElement("div");d.className="ag-filter";var u=o.filter.getGui();if(t.isNodeOrElement(u))d.appendChild(u);else{var p=document.createElement("span");p.innerHTML=u,d.appendChild(p)}return o.gui=o.scope?this.$compile(d)(o.scope)[0]:d,o},i.prototype.showFilter=function(e,t){var i=this.getOrCreateFilterWrapper(e);this.popupService.positionPopup(t,i.gui,200),this.popupService.addAsModalPopup(i.gui),i.filter.afterGuiAttached&&i.filter.afterGuiAttached()},i}();e.FilterManager=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=function(){function e(){this.templateCache={},this.waitingCallbacks={}}return e.prototype.init=function(e){this.$scope=e},e.prototype.getTemplate=function(e,t){var i=this.templateCache[e];if(i)return i;var r=this.waitingCallbacks[e],o=this;if(!r){r=[],this.waitingCallbacks[e]=r;var n=new XMLHttpRequest;n.onload=function(){o.handleHttpResult(this,e)},n.open("GET",e),n.send()}return t&&r.push(t),null},e.prototype.handleHttpResult=function(e,t){if(200!==e.status||null===e.response)return void console.warn("Unable to get template error "+e.status+" - "+t);this.templateCache[t]=e.response;for(var i=this.waitingCallbacks[t],r=0;r<i.length;r++){var o=i[r];o()}if(this.$scope){var n=this;setTimeout(function(){n.$scope.$apply()},0)}},e}();e.TemplateService=t}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){function t(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0}var i=function(){function e(){}return e.prototype.init=function(e,t){this.angularGrid=e,this.selectionController=t},e.prototype.createSelectionCheckbox=function(e,i){var r=document.createElement("input");r.type="checkbox",r.name="name",r.className="ag-selection-checkbox",t(r,this.selectionController.isNodeSelected(e));var o=this;return r.onclick=function(e){e.stopPropagation()},r.onchange=function(){var e=r.checked;e?o.selectionController.selectIndex(i,!0):o.selectionController.deselectIndex(i)},this.angularGrid.addVirtualRowListener(i,{rowSelected:function(e){t(r,e)},rowRemoved:function(){}}),r},e}();e.SelectionRendererFactory=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(t){var i=(e.grid.Utils,function(){function e(){this.id=e.idSequence++}return e.prototype.getId=function(){return this.id},e.prototype.addElementAttachedListener=function(e){this.elementAttachedListeners||(this.elementAttachedListeners=[]),this.elementAttachedListeners.push(e)},e.prototype.fireElementAttached=function(e){if(this.elementAttachedListeners)for(var t=0;t<this.elementAttachedListeners.length;t++){var i=this.elementAttachedListeners[t];i(e)}},e.prototype.elementAttached=function(e){this.fireElementAttached(e)},e.prototype.toHtmlString=function(){return null},e.idSequence=0,e}());t.VElement=i}(t=e.vdom||(e.vdom={}))}(awk||(awk={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i},awk;!function(e){var t;!function(t){var i=e.grid.Utils,r=function(e){function r(t){e.call(this),this.style={},this.type=t}return __extends(r,e),r.prototype.getElement=function(){return this.element},r.prototype.setInnerHtml=function(e){this.bound?this.element.innerHTML=e:this.innerHtml=e},r.prototype.addStyles=function(e){var t=this;e&&(this.bound||this.style||(this.style={}),i.iterateObject(e,function(e,i){if(t.bound){var r=t.element.style;r[e]=i}else t.style[e]=i}))},r.prototype.attachEventListeners=function(e){if(this.eventListeners)for(var t=0;t<this.eventListeners.length;t++){var i=this.eventListeners[t];e.addEventListener(i.event,i.listener)}},r.prototype.addClass=function(e){this.bound?i.addCssClass(this.element,e):(this.classes||(this.classes=[]),this.classes.push(e))},r.prototype.removeClass=function(e){if(this.bound)i.removeCssClass(this.element,e);else{if(!this.classes)return;for(;this.classes.indexOf(e)>=0;)i.removeFromArray(this.classes,e)}},r.prototype.addClasses=function(e){if(e&&!(e.length<=0))if(this.bound)for(var t=0;t<e.length;t++)i.addCssClass(this.element,e[t]);else{this.classes||(this.classes=[]);for(var r=0;r<e.length;r++)this.classes.push(e[r])}},r.prototype.toHtmlString=function(){var e="";return e+="<"+this.type+' v_element_id="'+this.getId()+'" ',e+=this.toHtmlStringClasses(),e+=this.toHtmlStringAttributes(),e+=this.toHtmlStringStyles(),e+=">",this.innerHtml&&(e+=this.innerHtml),e+=this.toHtmlStringChildren(),e+="</"+this.type+">"},r.prototype.toHtmlStringChildren=function(){if(!this.children)return"";for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toHtmlString();return e},r.prototype.toHtmlStringAttributes=function(){if(!this.attributes)return"";var e="";return i.iterateObject(this.attributes,function(t,i){e+=" "+t+'="'+i+'"'}),e},r.prototype.toHtmlStringClasses=function(){return this.classes?' class="'+this.classes.join(" ")+'"':""},r.prototype.toHtmlStringStyles=function(){var e=' style="',t=!1;return i.iterateObject(this.style,function(i,r){e+=" "+i+": "+r+";",t=!0}),e+='"',t?e:""},r.prototype.appendChild=function(e){this.bound?i.isNodeOrElement(e)?this.element.appendChild(e):console.error("cannot appendChild with virtual child to already bound VHTMLElement"):(this.children||(this.children=[]),this.children.push(i.isNodeOrElement(e)?new t.VWrapperElement(e):e))},r.prototype.setAttribute=function(e,t){this.bound&&console.error("cannot setAttribute to already bound VHTMLElement"),this.attributes||(this.attributes={}),this.attributes[e]=t},r.prototype.addEventListener=function(e,t){this.bound&&console.error("cannot addEventListener to already bound VHTMLElement"),this.eventListeners||(this.eventListeners=[]);var i=new o(e,t);this.eventListeners.push(i)},r.prototype.elementAttached=function(t){e.prototype.elementAttached.call(this,t),this.element=t,this.attachEventListeners(t),this.fireElementAttachedToChildren(t),this.bound=!0},r.prototype.fireElementAttachedToChildren=function(e){if(this.children)for(var t=0;t<this.children.length;t++){var i=this.children[t],r=e.querySelector('[v_element_id="'+i.getId()+'"]');i.elementAttached(r)}},r}(t.VElement);t.VHtmlElement=r;var o=function(){function e(e,t){this.event=e,this.listener=t}return e}()}(t=e.vdom||(e.vdom={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=function(e){function t(t){e.call(this),this.wrappedElement=t}return __extends(t,e),t.prototype.toHtmlString=function(){return'<span v_element_id="'+this.getId()+'"></span>'},t.prototype.elementAttached=function(e){var t=e.parentNode;t.insertBefore(this.wrappedElement,e),t.removeChild(e)},t}(e.VElement);e.VWrapperElement=t}(t=e.vdom||(e.vdom={}))}(awk||(awk={}));var awk;!function(e){var t;!function(t){var i=t.Utils,r=function(){function r(e,t,i,r,o,n,s,l,a,d,u,p,h){this.isFirstColumn=!1,this.isFirstColumn=e,this.column=t,this.rowRenderer=r,this.gridOptionsWrapper=o,this.expressionService=n,this.selectionRendererFactory=s,this.selectionController=l,this.cellRendererMap=d,this.$compile=i,this.templateService=a,this.checkboxSelection=this.column.colDef.checkboxSelection,this.node=u,this.rowIndex=p,this.scope=h,this.data=this.getDataForRow(),this.valueGetter=this.createValueGetter(),this.value=this.valueGetter(),this.setupComponents()}return r.prototype.getVGridCell=function(){return this.vGridCell},r.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(this.node.group){var e=this.gridOptionsWrapper.isGroupIncludeFooter();return this.node.expanded&&e?void 0:this.node.data}return this.node.data},r.prototype.createValueGetter=function(){var e=this;return function(){var t=e.gridOptionsWrapper.getApi(),r=e.gridOptionsWrapper.getContext(),o=e.gridOptionsWrapper.isEnableCellExpressions();return i.getValue(e.expressionService,e.data,e.column.colDef,o,e.node,t,r)}},r.prototype.setupComponents=function(){this.vGridCell=new e.vdom.VHtmlElement("div"),this.vGridCell.setAttribute("col",this.column.index?this.column.index.toString():""),this.gridOptionsWrapper.isSuppressCellSelection()||this.vGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.addCellClickedHandler(),this.addCellDoubleClickedHandler(),this.addCellNavigationHandler(),this.vGridCell.addStyles({width:this.column.actualWidth+"px"}),this.createParentOfValue(),this.populateCell(),this.eCheckbox&&this.setSelected(this.selectionController.isNodeSelected(this.node))},r.prototype.startEditing=function(){var e=this;this.editingCell=!0,i.removeAllChildren(this.vGridCell.getElement());var r=document.createElement("input");r.type="text",i.addCssClass(r,"ag-cell-edit-input");var o=this.valueGetter();null!==o&&void 0!==o&&(r.value=o),r.style.width=this.column.actualWidth-14+"px",this.vGridCell.appendChild(r),r.focus(),r.select();var n=function(){e.stopEditing(r,n)};r.addEventListener("blur",n),r.addEventListener("keypress",function(i){var o=i.which||i.keyCode;o==t.Constants.KEY_ENTER&&(e.stopEditing(r,n),e.rowRenderer.focusCell(e.vGridCell.getElement(),e.rowIndex,e.column.index,!0))}),r.addEventListener("keydown",function(i){var o=i.which||i.keyCode;return o==t.Constants.KEY_TAB?(e.stopEditing(r,n),e.rowRenderer.startEditingNextCell(e.rowIndex,e.column,i.shiftKey),i.preventDefault(),!1):void 0})},r.prototype.stopEditing=function(e,t){this.editingCell=!1;var r=e.value,o=this.column.colDef;e.removeEventListener("blur",t);var n={node:this.node,data:this.node.data,oldValue:this.node.data[o.field],newValue:r,rowIndex:this.rowIndex,colDef:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};o.newValueHandler?o.newValueHandler(n):this.node.data[o.field]=r,this.value=this.valueGetter(),n.newValue=this.value,"function"==typeof o.cellValueChanged&&o.cellValueChanged(n),"function"==typeof this.gridOptionsWrapper.getCellValueChanged()&&this.gridOptionsWrapper.getCellValueChanged()(n),i.removeAllChildren(this.vGridCell.getElement()),this.checkboxSelection&&this.vGridCell.appendChild(this.vCellWrapper.getElement()),this.refreshCell()},r.prototype.addCellDoubleClickedHandler=function(){var e=this,t=this.column.colDef;this.vGridCell.addEventListener("dblclick",function(i){if(e.gridOptionsWrapper.getCellDoubleClicked()){var r={node:e.node,data:e.node.data,value:e.value,rowIndex:e.rowIndex,colDef:t,event:i,eventSource:this,api:e.gridOptionsWrapper.getApi()};e.gridOptionsWrapper.getCellDoubleClicked()(r)}if(t.cellDoubleClicked){var o={node:e.node,data:e.node.data,value:e.value,rowIndex:e.rowIndex,colDef:t,event:i,eventSource:this,api:e.gridOptionsWrapper.getApi()};t.cellDoubleClicked(o)}e.isCellEditable()&&e.startEditing()})},r.prototype.isCellEditable=function(){if(this.editingCell)return!1;if(this.node.group)return!1;var e=this.column.colDef;if("boolean"==typeof e.editable)return e.editable;if("function"==typeof e.editable){var t=e.editable;return t(this.node.data)}return!1},r.prototype.addCellClickedHandler=function(){var e=this.column.colDef,t=this;this.vGridCell.addEventListener("click",function(i){if(t.rowRenderer.focusCell(t.vGridCell.getElement(),t.rowIndex,t.column.index,!1),t.gridOptionsWrapper.getCellClicked()){var r={node:t.node,data:t.node.data,value:t.value,rowIndex:t.rowIndex,colDef:e,event:i,eventSource:this,api:t.gridOptionsWrapper.getApi()};t.gridOptionsWrapper.getCellClicked()(r)}if(e.cellClicked){var o={node:t.node,data:t.node.data,value:t.value,rowIndex:t.rowIndex,colDef:e,event:i,eventSource:this,api:t.gridOptionsWrapper.getApi()};e.cellClicked(o)}})},r.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromCollDef(),this.addClassesFromCollDef(),this.addClassesFromRules()},r.prototype.addStylesFromCollDef=function(){var e=this.column.colDef;if(e.cellStyle){var t;if("function"==typeof e.cellStyle){var i={value:this.value,data:this.node.data,node:this.node,colDef:e,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},r=e.cellStyle;t=r(i)}else t=e.cellStyle;t&&this.vGridCell.addStyles(t)}},r.prototype.addClassesFromCollDef=function(){var e=this,t=this.column.colDef;if(t.cellClass){var i;if("function"==typeof t.cellClass){var r={value:this.value,data:this.node.data,node:this.node,colDef:t,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},o=t.cellClass;i=o(r)}else i=t.cellClass;"string"==typeof i?this.vGridCell.addClass(i):Array.isArray(i)&&i.forEach(function(t){e.vGridCell.addClass(t)})}},r.prototype.addClassesFromRules=function(){var e=this.column.colDef,t=e.cellClassRules;if("object"==typeof t&&null!==t)for(var i={value:this.value,data:this.node.data,node:this.node,colDef:e,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},r=Object.keys(t),o=0;o<r.length;o++){var n,s=r[o],l=t[s];"string"==typeof l?n=this.expressionService.evaluate(l,i):"function"==typeof l&&(n=l(i)),n?this.vGridCell.addClass(s):this.vGridCell.removeClass(s)}},r.prototype.addCellNavigationHandler=function(){var e=this;this.vGridCell.addEventListener("keydown",function(i){if(!e.editingCell&&i.target===e.vGridCell.getElement()){var r=i.which||i.keyCode,o=r===t.Constants.KEY_DOWN||r===t.Constants.KEY_UP||r===t.Constants.KEY_LEFT||r===t.Constants.KEY_RIGHT;o&&(i.preventDefault(),e.rowRenderer.navigateToNextCell(r,e.rowIndex,e.column));var n=r===t.Constants.KEY_ENTER;n&&e.isCellEditable()&&(e.startEditing(),i.preventDefault());var s=r===t.Constants.KEY_SPACE;if(s&&e.gridOptionsWrapper.isRowSelection()){var l=e.selectionController.isNodeSelected(e.node);l?e.selectionController.deselectNode(e.node):e.selectionController.selectNode(e.node,!0),i.preventDefault()}}})},r.prototype.createSelectionCheckbox=function(){this.eCheckbox=document.createElement("input"),this.eCheckbox.type="checkbox",this.eCheckbox.name="name",this.eCheckbox.className="ag-selection-checkbox",this.eCheckbox.addEventListener("click",function(e){e.stopPropagation()});var e=this;this.checkboxOnChangeListener=function(){var t=e.eCheckbox.checked;t?e.selectionController.selectIndex(e.rowIndex,!0):e.selectionController.deselectIndex(e.rowIndex)},this.eCheckbox.onchange=this.checkboxOnChangeListener},r.prototype.setSelected=function(e){this.eCheckbox&&(this.eCheckbox.onchange=null,"boolean"==typeof e?(this.eCheckbox.checked=e,this.eCheckbox.indeterminate=!1):this.eCheckbox.indeterminate=!0,this.eCheckbox.onchange=this.checkboxOnChangeListener)},r.prototype.createParentOfValue=function(){if(this.checkboxSelection){this.vCellWrapper=new e.vdom.VHtmlElement("span"),this.vCellWrapper.addClass("ag-cell-wrapper"),this.vGridCell.appendChild(this.vCellWrapper);var t=this.column.colDef;t.checkboxSelection&&(this.createSelectionCheckbox(),this.vCellWrapper.appendChild(new e.vdom.VWrapperElement(this.eCheckbox))),this.vSpanWithValue=new e.vdom.VHtmlElement("span"),this.vSpanWithValue.addClass("ag-cell-value"),this.vCellWrapper.appendChild(this.vSpanWithValue),this.vParentOfValue=this.vSpanWithValue}else this.vGridCell.addClass("ag-cell-value"),this.vParentOfValue=this.vGridCell},r.prototype.isVolatile=function(){return this.column.colDef["volatile"]},r.prototype.refreshCell=function(){i.removeAllChildren(this.vParentOfValue.getElement()),this.value=this.valueGetter(),this.populateCell(),this.checkboxSelection&&this.setSelected(this.selectionController.isNodeSelected(this.node)),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.vGridCell.getElement())(this.scope)},r.prototype.putDataIntoCell=function(){var e=this.column.colDef;if(e.template)this.vParentOfValue.setInnerHtml(e.template);else if(e.templateUrl){var t=this.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&this.vParentOfValue.setInnerHtml(t)}else e.cellRenderer?this.useCellRenderer():void 0!==this.value&&null!==this.value&&""!==this.value&&this.vParentOfValue.setInnerHtml(this.value)},r.prototype.useCellRenderer=function(){var e,t=this.column.colDef,r={value:this.value,valueGetter:this.valueGetter,data:this.node.data,node:this.node,colDef:t,column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.vGridCell};if("object"==typeof t.cellRenderer&&null!==t.cellRenderer){var o=t.cellRenderer;if(e=this.cellRendererMap[o.renderer],!e)throw"Cell renderer "+t.cellRenderer+" not found, available are "+Object.keys(this.cellRendererMap)}else{if("function"!=typeof t.cellRenderer)throw"Cell Renderer must be String or Function";e=t.cellRenderer}var n=e(r);i.isNodeOrElement(n)?this.vParentOfValue.appendChild(n):this.vParentOfValue.setInnerHtml(n)},r.prototype.addClasses=function(){this.vGridCell.addClass("ag-cell"),this.vGridCell.addClass("ag-cell-no-focus"),this.vGridCell.addClass("cell-col-"+this.column.index),this.node.group&&this.node.footer&&this.vGridCell.addClass("ag-footer-cell"),this.node.group&&!this.node.footer&&this.vGridCell.addClass("ag-group-cell")},r}();t.RenderedCell=r}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(t){var i=t.Utils,r=function(){function r(e,t,i,r,o,n,s,l,a,d,u,p,h,c,g){this.renderedCells={},this.gridOptionsWrapper=e,this.parentScope=t,this.angularGrid=i,this.expressionService=o,this.columns=r.getDisplayedColumns(),this.cellRendererMap=n,this.selectionRendererFactory=s,this.$compile=l,this.templateService=a,this.selectionController=d,this.rowRenderer=u,this.pinning=this.columns[0].pinned,this.eBodyContainer=p,this.ePinnedContainer=h;var f=this.gridOptionsWrapper.isGroupUseEntireRow(),v=c.group&&f;this.vBodyRow=this.createRowContainer(),this.pinning&&(this.vPinnedRow=this.createRowContainer()),this.rowIndex=g,this.node=c,this.scope=this.createChildScopeOrNull(c.data),v||this.drawNormalRow(),this.addDynamicStyles(),this.addDynamicClasses(),this.vBodyRow.setAttribute("row",this.rowIndex.toString()),this.pinning&&this.vPinnedRow.setAttribute("row",this.rowIndex.toString()),this.gridOptionsWrapper.isDontUseScrolls()||(this.vBodyRow.style.top=this.gridOptionsWrapper.getRowHeight()*this.rowIndex+"px",this.pinning&&(this.vPinnedRow.style.top=this.gridOptionsWrapper.getRowHeight()*this.rowIndex+"px")),this.vBodyRow.style.height=this.gridOptionsWrapper.getRowHeight()+"px",this.pinning&&(this.vPinnedRow.style.height=this.gridOptionsWrapper.getRowHeight()+"px"),v&&this.createGroupRow(),this.bindVirtualElement(this.vBodyRow),this.pinning&&this.bindVirtualElement(this.vPinnedRow),this.scope&&(this.$compile(this.vBodyRow.getElement())(this.scope),this.pinning&&this.$compile(this.vPinnedRow.getElement())(this.scope)),this.eBodyContainer.appendChild(this.vBodyRow.getElement()),this.pinning&&this.ePinnedContainer.appendChild(this.vPinnedRow.getElement())}return r.prototype.onRowSelected=function(e){i.iterateObject(this.renderedCells,function(t,i){i.setSelected(e)})},r.prototype.softRefresh=function(){i.iterateObject(this.renderedCells,function(e,t){t.isVolatile()&&t.refreshCell()})},r.prototype.getRenderedCellForColumn=function(e){return this.renderedCells[e.index]},r.prototype.getCellForCol=function(e){var t=this.renderedCells[e.index];return t?t.getVGridCell().getElement():null},r.prototype.destroy=function(){this.destroyScope(),this.pinning&&this.ePinnedContainer.removeChild(this.vPinnedRow.getElement()),
this.eBodyContainer.removeChild(this.vBodyRow.getElement())},r.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},r.prototype.isDataInList=function(e){return e.indexOf(this.node.data)>=0},r.prototype.isGroup=function(){return this.node.group===!0},r.prototype.drawNormalRow=function(){for(var e=0;e<this.columns.length;e++){var i=this.columns[e],r=0===e,o=new t.RenderedCell(r,i,this.$compile,this.rowRenderer,this.gridOptionsWrapper,this.expressionService,this.selectionRendererFactory,this.selectionController,this.templateService,this.cellRendererMap,this.node,this.rowIndex,this.scope),n=o.getVGridCell();i.pinned?this.vPinnedRow.appendChild(n):this.vBodyRow.appendChild(n),this.renderedCells[i.index]=o}},r.prototype.bindVirtualElement=function(e){var t=e.toHtmlString(),r=i.loadTemplate(t);e.elementAttached(r)},r.prototype.createGroupRow=function(){var e=this.createGroupSpanningEntireRowCell(!1);if(this.pinning){this.vPinnedRow.appendChild(e);var t=this.createGroupSpanningEntireRowCell(!0);this.vBodyRow.appendChild(t)}else this.vBodyRow.appendChild(e)},r.prototype.createGroupSpanningEntireRowCell=function(e){var t;if(e)t=document.createElement("span");else{var r={node:this.node,data:this.node.data,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),colDef:{cellRenderer:{renderer:"group",innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()}}};t=this.cellRendererMap.group(r)}return this.node.footer?i.addCssClass(t,"ag-footer-cell-entire-row"):i.addCssClass(t,"ag-group-cell-entire-row"),t},r.prototype.setMainRowWidth=function(e){this.vBodyRow.addStyles({width:e+"px"})},r.prototype.createChildScopeOrNull=function(e){if(this.gridOptionsWrapper.isAngularCompileRows()){var t=this.parentScope.$new();return t.data=e,t}return null},r.prototype.addDynamicStyles=function(){if(this.gridOptionsWrapper.getRowStyle()){var e,t=this.gridOptionsWrapper.getRowStyle();if("function"==typeof t){var i={data:this.node.data,node:this.node,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope};e=t(i)}else e=t;this.vBodyRow.addStyles(e),this.pinning&&this.vPinnedRow.addStyles(e)}},r.prototype.createRowContainer=function(){var t=new e.vdom.VHtmlElement("div"),i=this;return t.addEventListener("click",function(e){i.angularGrid.onRowClicked(e,Number(this.getAttribute("row")),i.node)}),t},r.prototype.getRowNode=function(){return this.node},r.prototype.getRowIndex=function(){return this.rowIndex},r.prototype.addDynamicClasses=function(){var e=[];if(e.push("ag-row"),e.push(this.rowIndex%2==0?"ag-row-even":"ag-row-odd"),this.selectionController.isNodeSelected(this.node)&&e.push("ag-row-selected"),this.node.group?(e.push("ag-row-group"),e.push("ag-row-level-"+this.node.level),!this.node.footer&&this.node.expanded&&e.push("ag-row-group-expanded"),this.node.footer||this.node.expanded||e.push("ag-row-group-contracted"),this.node.footer&&e.push("ag-row-footer")):e.push(this.node.parent?"ag-row-level-"+(this.node.parent.level+1):"ag-row-level-0"),this.gridOptionsWrapper.getRowClass()){var t,i=this.gridOptionsWrapper.getRowClass();if("function"==typeof i){var r={node:this.node,data:this.node.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};t=i(r)}else t=i;t&&("string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach(function(t){e.push(t)}))}this.vBodyRow.addClasses(e),this.pinning&&this.vPinnedRow.addClasses(e)},r}();t.RenderedRow=r}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){function t(e,t){var r=i(t),n=document.createElementNS(o,"polygon");return n.setAttribute("points",e),r.appendChild(n),r}function i(e){var t=document.createElementNS(o,"svg");return e>0?(t.setAttribute("width",e),t.setAttribute("height",e)):(t.setAttribute("width","10"),t.setAttribute("height","10")),t}function r(e){var t=i(),r=document.createElementNS(o,"circle");return r.setAttribute("cx","5"),r.setAttribute("cy","5"),r.setAttribute("r","5"),r.setAttribute("stroke","black"),r.setAttribute("stroke-width","2"),e?r.setAttribute("fill","black"):r.setAttribute("fill","none"),t.appendChild(r),t}var o="http://www.w3.org/2000/svg",n=function(){function e(){}return e.getInstance=function(){return this.theInstance||(this.theInstance=new e),this.theInstance},e.prototype.createFilterSvg=function(){var e=i(),t=document.createElementNS(o,"polygon");return t.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),t.setAttribute("class","ag-header-icon"),e.appendChild(t),e},e.prototype.createColumnShowingSvg=function(){return r(!0)},e.prototype.createColumnHiddenSvg=function(){return r(!1)},e.prototype.createMenuSvg=function(){var e=document.createElementNS(o,"svg"),t="12";return e.setAttribute("width",t),e.setAttribute("height",t),["0","5","10"].forEach(function(i){var r=document.createElementNS(o,"rect");r.setAttribute("y",i),r.setAttribute("width",t),r.setAttribute("height","2"),r.setAttribute("class","ag-header-icon"),e.appendChild(r)}),e},e.prototype.createArrowUpSvg=function(){return t("0,10 5,0 10,10")},e.prototype.createArrowLeftSvg=function(){return t("10,0 0,5 10,10")},e.prototype.createArrowDownSvg=function(){return t("0,0 5,10 10,0")},e.prototype.createArrowRightSvg=function(){return t("0,0 10,5 0,10")},e.prototype.createSmallArrowDownSvg=function(){return t("0,0 3,6 6,0",6)},e.prototype.createArrowUpDownSvg=function(){var e=i(),t=document.createElementNS(o,"polygon");t.setAttribute("points","0,4 5,0 10,4"),e.appendChild(t);var r=document.createElementNS(o,"polygon");return r.setAttribute("points","0,6 5,10 10,6"),e.appendChild(r),e},e}();e.SvgFactory=n}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){function t(e,t){function n(e,t){function i(){a(n,l,t)}var n=d(!0),l=d(!1);e.appendChild(n),e.appendChild(l),n.addEventListener("click",i),l.addEventListener("click",i),e.addEventListener("dblclick",i),s(n,l,t.node.expanded),t.eGridCell&&t.eGridCell.addEventListener("keydown",function(e){r.isKeyPressed(e,o.KEY_ENTER)&&(i(),e.preventDefault())})}function s(e,t,i){r.setVisible(e,!i),r.setVisible(t,i)}function l(e,t,i){r.useRenderer(e,i,t)}function a(e,t,i){i.node.expanded=!i.node.expanded,i.api.onGroupExpandedOrCollapsed(i.rowIndex+1),s(e,t,i.node.expanded)}function d(t){var o;return o=t?r.createIcon("groupContracted",e,null,i.createArrowRightSvg):r.createIcon("groupExpanded",e,null,i.createArrowDownSvg),r.addCssClass(o,"ag-group-expand"),o}function u(e,t){var i="Total "+p(t),r=document.createTextNode(i);e.appendChild(r)}function p(e){var t=e.colDef.cellRenderer;if(t&&t.keyMap&&"object"==typeof t.keyMap&&null!==e.colDef.cellRenderer){var i=t.keyMap[e.node.key];return i?i:e.node.key}return e.node.key}function h(e,t){var i=p(t),o=t.api.getColumnDef(t.node.field);o&&"function"==typeof o.cellRenderer?(t.value=i,r.useRenderer(e,o.cellRenderer,t)):e.appendChild(document.createTextNode(i));var n=t.colDef.cellRenderer&&t.colDef.cellRenderer.suppressCount;!n&&t.node.allChildrenCount>=0&&e.appendChild(document.createTextNode(" ("+t.node.allChildrenCount+")"))}function c(e,t){if(t.value){var i=document.createTextNode(" "+t.value);e.appendChild(i)}}return function(e){var i=document.createElement("span"),r=e.node,o=r.group&&!r.footer;o&&n(i,e);var s=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.checkbox&&!r.footer;if(s){var a=t.createSelectionCheckbox(r,e.rowIndex);i.appendChild(a)}if(e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.innerRenderer?l(i,e,e.colDef.cellRenderer.innerRenderer):r.footer?u(i,e):r.group?h(i,e):c(i,e),r.footer||r.level>0){var d;d=e.colDef&&e.colDef.cellRenderer&&e.colDef.cellRenderer.padding>=0?e.colDef.cellRenderer.padding:10;var p=r.level*d;r.footer?p+=10:r.group||(p+=5),i.style.paddingLeft=p+"px"}return i}}var i=e.SvgFactory.getInstance(),r=e.Utils,o=e.Constants;e.groupCellRendererFactory=t}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(){}return i.prototype.init=function(t,i,r,o,n,s,l,a,d,u){this.columnModel=t,this.gridOptionsWrapper=i,this.angularGrid=o,this.selectionRendererFactory=n,this.gridPanel=r,this.$compile=s,this.$scope=l,this.selectionController=a,this.expressionService=d,this.templateService=u,this.findAllElements(r),this.cellRendererMap={group:e.groupCellRendererFactory(i,n)},this.renderedRows={}},i.prototype.setRowModel=function(e){this.rowModel=e},i.prototype.setMainRowWidths=function(){for(var e=this.columnModel.getBodyContainerWidth()+"px",t=this.eBodyContainer.querySelectorAll(".ag-row"),i=0;i<t.length;i++)t[i].style.width=e},i.prototype.findAllElements=function(e){this.eBodyContainer=e.getBodyContainer(),this.eBodyViewport=e.getBodyViewport(),this.ePinnedColsContainer=e.getPinnedColsContainer(),this.eParentOfRows=e.getRowsParent()},i.prototype.refreshView=function(e){if(!this.gridOptionsWrapper.isDontUseScrolls()){var t=this.rowModel.getVirtualRowCount(),i=this.gridOptionsWrapper.getRowHeight()*t;this.eBodyContainer.style.height=i+"px",this.ePinnedColsContainer.style.height=i+"px"}this.refreshAllVirtualRows(e)},i.prototype.softRefreshView=function(){t.iterateObject(this.renderedRows,function(e,t){t.softRefresh()})},i.prototype.rowDataChanged=function(e){var t=[],i=this.renderedRows;Object.keys(i).forEach(function(r){var o=i[r];o.isDataInList(e)&&t.push(r)}),this.removeVirtualRow(t),this.drawVirtualRows()},i.prototype.refreshAllVirtualRows=function(e){var t=Object.keys(this.renderedRows);this.removeVirtualRow(t,e),this.drawVirtualRows()},i.prototype.refreshGroupRows=function(){var e=[],t=this;Object.keys(this.renderedRows).forEach(function(i){var r=t.renderedRows[i];r.isGroup()&&e.push(i)}),this.removeVirtualRow(e),this.ensureRowsRendered()},i.prototype.removeVirtualRow=function(e,t){var i=this,r="number"==typeof t?t:-1;e.forEach(function(e){e>=r&&(i.unbindVirtualRow(e),i.focusedCell&&i.focusedCell.rowIndex==e&&(i.focusedCell=null))})},i.prototype.unbindVirtualRow=function(e){var t=this.renderedRows[e];t.destroy(),this.gridOptionsWrapper.getVirtualRowRemoved()&&this.gridOptionsWrapper.getVirtualRowRemoved()(t.getRowNode().data,e),this.angularGrid.onVirtualRowRemoved(e),delete this.renderedRows[e]},i.prototype.drawVirtualRows=function(){var t,i,r=this.rowModel.getVirtualRowCount();if(this.gridOptionsWrapper.isDontUseScrolls())t=0,i=r;else{var o=this.eBodyViewport.scrollTop,n=o+this.eBodyViewport.offsetHeight;t=Math.floor(o/this.gridOptionsWrapper.getRowHeight()),i=Math.floor(n/this.gridOptionsWrapper.getRowHeight());var s=this.gridOptionsWrapper.getRowBuffer()||e.Constants.ROW_BUFFER_SIZE;t-=s,i+=s,0>t&&(t=0),i>r-1&&(i=r-1)}this.firstVirtualRenderedRow=t,this.lastVirtualRenderedRow=i,this.ensureRowsRendered()},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstVirtualRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastVirtualRenderedRow},i.prototype.ensureRowsRendered=function(){for(var e=this.columnModel.getBodyContainerWidth(),t=this,i=Object.keys(this.renderedRows),r=this.firstVirtualRenderedRow;r<=this.lastVirtualRenderedRow;r++)if(i.indexOf(r.toString())>=0)i.splice(i.indexOf(r.toString()),1);else{var o=this.rowModel.getVirtualRow(r);o&&t.insertRow(o,r,e)}this.removeVirtualRow(i),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){t.$scope.$apply()},0)},i.prototype.insertRow=function(t,i,r){var o=this.columnModel.getDisplayedColumns();if(o&&0!=o.length){var n=new e.RenderedRow(this.gridOptionsWrapper,this.$scope,this.angularGrid,this.columnModel,this.expressionService,this.cellRendererMap,this.selectionRendererFactory,this.$compile,this.templateService,this.selectionController,this,this.eBodyContainer,this.ePinnedColsContainer,t,i);n.setMainRowWidth(r),this.renderedRows[i]=n}},i.prototype.getIndexOfRenderedNode=function(e){for(var t=this.renderedRows,i=Object.keys(t),r=0;r<i.length;r++){var o=i[r];if(t[o].getRowNode()===e)return t[o].getRowIndex()}return-1},i.prototype.navigateToNextCell=function(e,t,i){for(var r,o,n={rowIndex:t,column:i};!o;){if(n=this.getNextCellToFocus(e,n),!n)return;r=this.renderedRows[n.rowIndex],o=r.getCellForCol(n.column)}this.gridPanel.ensureIndexVisible(r.getRowIndex()),this.focusCell(o,n.rowIndex,n.column.index,!0)},i.prototype.getNextCellToFocus=function(t,i){var r,o,n=i.rowIndex,s=i.column;switch(t){case e.Constants.KEY_UP:if(n===this.firstVirtualRenderedRow)return null;r=n-1,o=s;break;case e.Constants.KEY_DOWN:if(n===this.lastVirtualRenderedRow)return null;r=n+1,o=s;break;case e.Constants.KEY_RIGHT:var l=this.columnModel.getVisibleColAfter(s);if(!l)return null;r=n,o=l;break;case e.Constants.KEY_LEFT:var a=this.columnModel.getVisibleColBefore(s);if(!a)return null;r=n,o=a}return{rowIndex:r,column:o}},i.prototype.onRowSelected=function(e,t){this.renderedRows[e]&&this.renderedRows[e].onRowSelected(t)},i.prototype.focusCell=function(e,i,r,o){if(!this.gridOptionsWrapper.isSuppressCellSelection()){t.querySelectorAll_replaceCssClass(this.eParentOfRows,".ag-cell-focus","ag-cell-focus","ag-cell-no-focus");var n='[row="'+i+'"] [col="'+r+'"]';t.querySelectorAll_replaceCssClass(this.eParentOfRows,n,"ag-cell-no-focus","ag-cell-focus"),this.focusedCell={rowIndex:i,colIndex:r,node:this.rowModel.getVirtualRow(i)},o&&e.focus(),"function"==typeof this.gridOptionsWrapper.getCellFocused()&&this.gridOptionsWrapper.getCellFocused()(this.focusedCell)}},i.prototype.getFocusedCell=function(){return this.focusedCell},i.prototype.setFocusedCell=function(e,t){var i=this.renderedRows[e],r=this.columnModel.getDisplayedColumns()[t];if(i&&r){var o=i.getCellForCol(r.colId);this.focusCell(o,e,t,!0)}},i.prototype.startEditingNextCell=function(e,t,i){for(var r=this.firstVirtualRenderedRow,o=this.lastVirtualRenderedRow,n=e,s=this.columnModel.getDisplayedColumns(),l=t;;){var a=s.indexOf(l);if(i){if(l=s[a-1],l||(l=s[s.length-1],n--),r>n)return}else if(l=s[a+1],l||(l=s[0],n++),n>o)return;var d=this.renderedRows[n],u=d.getRenderedCellForColumn(l);if(u.isCellEditable())return void u.startEditing()}},i}();e.RowRenderer=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=0,r=1,o=2,n=3,s=function(){function e(){}return e.prototype.init=function(e,t,i,r,o){this.eRowsParent=t.getRowsParent(),this.angularGrid=e,this.gridOptionsWrapper=i,this.$scope=r,this.rowRenderer=o,this.initSelectedNodesById(),this.selectedRows=[],i.setSelectedRows(this.selectedRows)},e.prototype.initSelectedNodesById=function(){this.selectedNodesById={},this.gridOptionsWrapper.setSelectedNodesById(this.selectedNodesById)},e.prototype.getSelectedNodes=function(){for(var e=[],t=Object.keys(this.selectedNodesById),i=0;i<t.length;i++){var r=t[i],o=this.selectedNodesById[r];e.push(o)}return e},e.prototype.getBestCostNodeSelection=function(){function e(t){for(var o=0,n=t.length;n>o;o++){var s=t[o];r.isNodeSelected(s)?i.push(s):s.group&&s.children&&e(s.children)}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var t=this.rowModel.getTopLevelNodes(),i=[],r=this;return e(t),i},e.prototype.setRowModel=function(e){this.rowModel=e},e.prototype.deselectAll=function(){this.initSelectedNodesById(),this.syncSelectedRowsAndCallListener()},e.prototype.selectAll=function(){function e(r){if(r)for(var o=0;o<r.length;o++){var n=r[o];n.group?(e(n.children),i&&(t[n.id]=n)):t[n.id]=n}}if("function"!=typeof this.rowModel.getTopLevelNodes)throw"selectAll not available when rows are on the server";var t=this.selectedNodesById,i=!this.gridOptionsWrapper.isGroupSelectsChildren(),r=this.rowModel.getTopLevelNodes();e(r),this.syncSelectedRowsAndCallListener()},e.prototype.selectNode=function(e,t,i){var r,o=this.gridOptionsWrapper.isRowSelectionMulti()&&t;r=e.footer?e.sibling:e;var n=!1,s=!1;o||(n=this.doWorkOfDeselectAllNodes()),s=this.gridOptionsWrapper.isGroupSelectsChildren()&&r.group?this.recursivelySelectAllChildren(r):this.doWorkOfSelectNode(r,i),(n||s)&&this.syncSelectedRowsAndCallListener(i),this.updateGroupParentsIfNeeded()},e.prototype.recursivelySelectAllChildren=function(e,t){var i=!1;if(e.children)for(var r=0;r<e.children.length;r++){var o=e.children[r];o.group?this.recursivelySelectAllChildren(o)&&(i=!0):this.doWorkOfSelectNode(o,t)&&(i=!0)}return i},e.prototype.recursivelyDeselectAllChildren=function(e){if(e.children)for(var t=0;t<e.children.length;t++){var i=e.children[t];i.group?this.recursivelyDeselectAllChildren(i):this.deselectRealNode(i)}},e.prototype.doWorkOfSelectNode=function(e,t){return this.selectedNodesById[e.id]?!1:(this.selectedNodesById[e.id]=e,this.addCssClassForNode_andInformVirtualRowListener(e),e.group&&e.expanded&&e.sibling&&this.addCssClassForNode_andInformVirtualRowListener(e.sibling),t||"function"!=typeof this.gridOptionsWrapper.getRowSelected()||this.gridOptionsWrapper.getRowSelected()(e.data,e),!0)},e.prototype.addCssClassForNode_andInformVirtualRowListener=function(e){var i=this.rowRenderer.getIndexOfRenderedNode(e);i>=0&&(t.querySelectorAll_addCssClass(this.eRowsParent,'[row="'+i+'"]',"ag-row-selected"),this.angularGrid.onVirtualRowSelected(i,!0))},e.prototype.doWorkOfDeselectAllNodes=function(e){for(var t,i=Object.keys(this.selectedNodesById),r=0;r<i.length;r++){var o=i[r],n=this.selectedNodesById[o];n!==e&&(this.deselectRealNode(n),t=!0)}return t},e.prototype.deselectRealNode=function(e){this.removeCssClassForNode(e),e.group&&e.expanded&&e.sibling&&this.removeCssClassForNode(e.sibling),delete this.selectedNodesById[e.id]},e.prototype.removeCssClassForNode=function(e){var i=this.rowRenderer.getIndexOfRenderedNode(e);i>=0&&(t.querySelectorAll_removeCssClass(this.eRowsParent,'[row="'+i+'"]',"ag-row-selected"),this.angularGrid.onVirtualRowSelected(i,!1))},e.prototype.deselectIndex=function(e){var t=this.rowModel.getVirtualRow(e);this.deselectNode(t)},e.prototype.deselectNode=function(e){e&&(this.gridOptionsWrapper.isGroupSelectsChildren()&&e.group?this.recursivelyDeselectAllChildren(e):this.deselectRealNode(e)),this.syncSelectedRowsAndCallListener(),this.updateGroupParentsIfNeeded()},e.prototype.selectIndex=function(e,t,i){var r=this.rowModel.getVirtualRow(e);this.selectNode(r,t,i)},e.prototype.syncSelectedRowsAndCallListener=function(e){var t=this.selectedRows,i=t.length;t.length=0;for(var r=Object.keys(this.selectedNodesById),o=0;o<r.length;o++)if(void 0!==this.selectedNodesById[r[o]]){var n=this.selectedNodesById[r[o]];t.push(n.data)}var s=0===i&&0===t.length;s||e||"function"!=typeof this.gridOptionsWrapper.getSelectionChanged()||this.gridOptionsWrapper.getSelectionChanged()();var l=this;this.$scope&&setTimeout(function(){l.$scope.$apply()},0)},e.prototype.recursivelyCheckIfSelected=function(e){var t=!1,s=!1;if(e.children)for(var l=0;l<e.children.length;l++){var a,d=e.children[l];if(d.group)switch(a=this.recursivelyCheckIfSelected(d)){case i:t=!0;break;case r:s=!0;break;case o:t=!0,s=!0}else this.isNodeSelected(d)?t=!0:s=!0;if(t&&s)return o}return t?i:s?r:n},e.prototype.isNodeSelected=function(e){if(!this.gridOptionsWrapper.isGroupSelectsChildren()||!e.group)return void 0!==this.selectedNodesById[e.id];var t=this.recursivelyCheckIfSelected(e);switch(t){case i:return!0;case r:return!1;default:return void 0}},e.prototype.updateGroupParentsIfNeeded=function(){if(this.gridOptionsWrapper.isGroupSelectsChildren())for(var e=this.rowRenderer.getFirstVirtualRenderedRow(),i=this.rowRenderer.getLastVirtualRenderedRow(),r=e;i>=r;r++){var o=this.rowModel.getVirtualRow(r);if(o.group){var n=this.isNodeSelected(o);this.angularGrid.onVirtualRowSelected(r,n),n?t.querySelectorAll_addCssClass(this.eRowsParent,'[row="'+r+'"]',"ag-row-selected"):t.querySelectorAll_removeCssClass(this.eRowsParent,'[row="'+r+'"]',"ag-row-selected")}}},e}();e.SelectionController=s}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=e.Constants,r=e.SvgFactory.getInstance(),o=function(){function e(){}return e.prototype.init=function(e,t,i,r,o,n,s,l,a){this.expressionService=a,this.gridOptionsWrapper=e,this.columnModel=i,this.columnController=t,this.angularGrid=o,this.filterManager=n,this.$scope=s,this.$compile=l,this.findAllElements(r)},e.prototype.findAllElements=function(e){this.ePinnedHeader=e.getPinnedHeader(),this.eHeaderContainer=e.getHeaderContainer(),this.eHeader=e.getHeader(),this.eRoot=e.getRoot()},e.prototype.refreshHeader=function(){t.removeAllChildren(this.ePinnedHeader),t.removeAllChildren(this.eHeaderContainer),this.childScopes&&this.childScopes.forEach(function(e){e.$destroy()}),this.childScopes=[],this.gridOptionsWrapper.isGroupHeaders()?this.insertHeadersWithGrouping():this.insertHeadersWithoutGrouping()},e.prototype.insertHeadersWithGrouping=function(){var e=this.columnModel.getHeaderGroups(),t=this;e.forEach(function(e){var i=t.createGroupedHeaderCell(e),r=e.pinned?t.ePinnedHeader:t.eHeaderContainer;r.appendChild(i)})},e.prototype.createGroupedHeaderCell=function(e){var t=document.createElement("div");t.className="ag-header-group";var i=document.createElement("div");e.eHeaderGroupCell=i;var r=["ag-header-group-cell"];if(r.push(e.name?"ag-header-group-cell-with-group":"ag-header-group-cell-no-group"),i.className=r.join(" "),this.gridOptionsWrapper.isEnableColResize()){var o=document.createElement("div");o.className="ag-header-cell-resize",i.appendChild(o),e.eHeaderCellResize=o;var n=this.groupDragCallbackFactory(e);this.addDragHandler(o,n,e)}var s=e.name;if(s&&""!==s){var l=document.createElement("div");l.className="ag-header-group-cell-label",i.appendChild(l);var a=document.createElement("span");a.className="ag-header-group-text",a.innerHTML=s,l.appendChild(a),e.expandable&&this.addGroupExpandIcon(e,l,e.expanded)}t.appendChild(i);var d=this;return e.displayedColumns.forEach(function(i){var r=d.createHeaderCell(i,!0,e);t.appendChild(r)}),d.setWidthOfGroupHeaderCell(e),t},e.prototype.fireColumnResized=function(e){"function"==typeof this.gridOptionsWrapper.getColumnResized()&&this.gridOptionsWrapper.getColumnResized()(e)},e.prototype.addGroupExpandIcon=function(e,i,o){var n;n=o?t.createIcon("headerGroupOpened",this.gridOptionsWrapper,null,r.createArrowLeftSvg):t.createIcon("headerGroupClosed",this.gridOptionsWrapper,null,r.createArrowRightSvg),n.className="ag-header-expand-icon",i.appendChild(n);var s=this;n.onclick=function(){s.columnController.headerGroupOpened(e)}},e.prototype.addDragHandler=function(e,t,i){var r=this;e.addEventListener("mousedown",function(e){t.onDragStart(),r.eRoot.style.cursor="col-resize",r.dragStartX=e.clientX;var o={};o.mousemove=function(e){var i=e.clientX,o=i-r.dragStartX;t.onDragging(o)},o.mouseup=function(){r.stopDragging(o,i)},o.mouseleave=function(){r.stopDragging(o,i)},r.eRoot.addEventListener("mousemove",o.mousemove),r.eRoot.addEventListener("mouseup",o.mouseup),r.eRoot.addEventListener("mouseleave",o.mouseleave)})},e.prototype.setWidthOfGroupHeaderCell=function(e){var i=0;e.displayedColumns.forEach(function(e){i+=e.actualWidth}),e.eHeaderGroupCell.style.width=t.formatWidth(i),e.actualWidth=i},e.prototype.insertHeadersWithoutGrouping=function(){var e=this.ePinnedHeader,t=this.eHeaderContainer,i=this;this.columnModel.getDisplayedColumns().forEach(function(r){var o=i.createHeaderCell(r,!1);r.pinned?e.appendChild(o):t.appendChild(o)})},e.prototype.createHeaderCell=function(e,i,o){var n=this,s=e.colDef,l=document.createElement("div");e.eHeaderCell=l;var a;this.gridOptionsWrapper.isAngularCompileHeaders()&&(a=this.$scope.$new(),a.colDef=s,a.colIndex=s.index,a.colDefWrapper=e,this.childScopes.push(a));var d=["ag-header-cell"];if(d.push(i?"ag-header-cell-grouped":"ag-header-cell-not-grouped"),l.className=d.join(" "),this.addHeaderClassesFromCollDef(s,a,l),s.headerTooltip&&(l.title=s.headerTooltip),this.gridOptionsWrapper.isEnableColResize()&&!s.suppressResize){var u=document.createElement("div");u.className="ag-header-cell-resize",l.appendChild(u);var p=this.headerDragCallbackFactory(l,e,o);this.addDragHandler(u,p,e)}var h=this.gridOptionsWrapper.isEnableFilter()&&!s.suppressMenu;if(h){var c=t.createIcon("menu",this.gridOptionsWrapper,e,r.createMenuSvg);t.addCssClass(c,"ag-header-icon"),c.setAttribute("class","ag-header-cell-menu-button"),c.onclick=function(){n.filterManager.showFilter(e,this)},l.appendChild(c),l.onmouseenter=function(){c.style.opacity="1"},l.onmouseleave=function(){c.style.opacity="0"},c.style.opacity="0",c.style.transition="opacity 0.5s, border 0.2s";var g=c.style;g["-webkit-transition"]="opacity 0.5s, border 0.2s"}var f=document.createElement("div");f.className="ag-header-cell-label",this.gridOptionsWrapper.isEnableSorting()&&!s.suppressSorting&&(e.eSortAsc=t.createIcon("sortAscending",this.gridOptionsWrapper,e,r.createArrowUpSvg),e.eSortDesc=t.createIcon("sortDescending",this.gridOptionsWrapper,e,r.createArrowDownSvg),t.addCssClass(e.eSortAsc,"ag-header-icon ag-sort-ascending-icon"),t.addCssClass(e.eSortDesc,"ag-header-icon ag-sort-descending-icon"),f.appendChild(e.eSortAsc),f.appendChild(e.eSortDesc),(s.unSortIcon||this.gridOptionsWrapper.isUnSortIcon())&&(e.eSortNone=t.createIcon("sortUnSort",this.gridOptionsWrapper,e,r.createArrowUpDownSvg),t.addCssClass(e.eSortNone,"ag-header-icon ag-sort-none-icon"),f.appendChild(e.eSortNone)),e.eSortAsc.style.display="none",e.eSortDesc.style.display="none",this.addSortHandling(f,e)),e.eFilterIcon=t.createIcon("filter",this.gridOptionsWrapper,e,r.createFilterSvg),t.addCssClass(e.eFilterIcon,"ag-header-icon"),f.appendChild(e.eFilterIcon);var v;s.headerCellRenderer?v=s.headerCellRenderer:this.gridOptionsWrapper.getHeaderCellRenderer()&&(v=this.gridOptionsWrapper.getHeaderCellRenderer());var y=this.columnModel.getDisplayNameForCol(e);if(v){var C,m={colDef:s,$scope:a,context:this.gridOptionsWrapper.getContext(),value:y,api:this.gridOptionsWrapper.getApi()},w=v(m);if(t.isNodeOrElement(w))C=w;else{var S=document.createElement("span");S.innerHTML=w,C=S}if(this.gridOptionsWrapper.isAngularCompileHeaders()){var R=this.$compile(C)(a)[0];f.appendChild(R)}else f.appendChild(C)}else{var b=document.createElement("span");b.className="ag-header-cell-text",b.innerHTML=y,f.appendChild(b)}return l.appendChild(f),l.style.width=t.formatWidth(e.actualWidth),l},e.prototype.addHeaderClassesFromCollDef=function(e,i,r){if(e.headerClass){var o;if("function"==typeof e.headerClass){var n={colDef:e,$scope:i,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};o=e.headerClass(n)}else o=e.headerClass;"string"==typeof o?t.addCssClass(r,o):Array.isArray(o)&&o.forEach(function(e){t.addCssClass(r,e)})}},e.prototype.getNextSortDirection=function(e){var t=this.gridOptionsWrapper.isSuppressUnSort(),r=this.gridOptionsWrapper.isSuppressDescSort();switch(e){case i.DESC:return t?i.ASC:null;case i.ASC:return t&&r?i.ASC:r?null:i.DESC;default:return i.ASC}},e.prototype.addSortHandling=function(e,t){var i=this;e.addEventListener("click",function(e){t.sort=i.getNextSortDirection(t.sort),t.sortedAt=t.sort?(new Date).valueOf():null;var r=!i.gridOptionsWrapper.isSuppressMultiSort()&&e.shiftKey;i.columnModel.getAllColumns().forEach(function(e){r||e===t||(e.sort=null)}),i.angularGrid.onSortingChanged()})},e.prototype.updateSortIcons=function(){this.columnModel.getAllColumns().forEach(function(e){var r=e.sort===i.ASC,o=e.sort===i.DESC,n=e.sort!==i.DESC&&e.sort!==i.ASC;e.eSortAsc&&t.setVisible(e.eSortAsc,r),e.eSortDesc&&t.setVisible(e.eSortDesc,o),e.eSortNone&&t.setVisible(e.eSortNone,n)})},e.prototype.groupDragCallbackFactory=function(e){var t=this,r=e.displayedColumns;return{onDragStart:function(){this.groupWidthStart=e.actualWidth,this.childrenWidthStarts=[];var t=this;r.forEach(function(e){t.childrenWidthStarts.push(e.actualWidth)}),this.minWidth=r.length*i.MIN_COL_WIDTH},onDragging:function(o){var n=this.groupWidthStart+o;n<this.minWidth&&(n=this.minWidth);var s=n+"px";e.eHeaderGroupCell.style.width=s,e.actualWidth=n;var l=n/this.groupWidthStart,a=n,d=this;e.displayedColumns.forEach(function(e,o){var n,s=o!==r.length-1;if(s){var u=d.childrenWidthStarts[o];n=u*l,n<i.MIN_COL_WIDTH&&(n=i.MIN_COL_WIDTH),a-=n}else n=a;var p=r[o].eHeaderCell;t.adjustColumnWidth(n,e,p)}),e.pinned?t.angularGrid.updatePinnedColContainerWidthAfterColResize():t.angularGrid.updateBodyContainerWidthAfterColResize()}}},e.prototype.adjustColumnWidth=function(e,t,i){for(var r=e+"px",o=".cell-col-"+t.index,n=this.eRoot.querySelectorAll(o),s=0;s<n.length;s++)n[s].style.width=r;i.style.width=r,t.actualWidth=e},e.prototype.headerDragCallbackFactory=function(e,t,r){var o=this;return{onDragStart:function(){this.startWidth=t.actualWidth},onDragging:function(n){var s=this.startWidth+n;s<i.MIN_COL_WIDTH&&(s=i.MIN_COL_WIDTH),o.adjustColumnWidth(s,t,e),r&&o.setWidthOfGroupHeaderCell(r),t.pinned?o.angularGrid.updatePinnedColContainerWidthAfterColResize():o.angularGrid.updateBodyContainerWidthAfterColResize()}}},e.prototype.stopDragging=function(e,i){this.eRoot.style.cursor="";var r=this;t.iterateObject(e,function(e,t){r.eRoot.removeEventListener(e,t)}),this.fireColumnResized(i)},e.prototype.updateFilterIcons=function(){var e=this;this.columnModel.getDisplayedColumns().forEach(function(t){if(t.eFilterIcon){var i=e.filterManager.isFilterPresentForCol(t.colId),r=i?"inline":"none";t.eFilterIcon.style.display=r}})},e}();e.HeaderRenderer=o}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(){}return e.getInstance=function(){return this.theInstance||(this.theInstance=new e),this.theInstance},e.prototype.group=function(e,i,r,o,n,s,l){var a={level:-1,children:[],childrenMap:{}},d=[];d.push(a);var u,p,h,c,g,f,v,y=i.length-1,C=-1;for(u=0;u<e.length;u++)for(h=e[u],c=h.data,h.level=y+1,p=0;p<i.length;p++){var m=i[p];f=t.getValue(o,c,m.colDef,l,h,n,s),0==p&&(g=a),v=g.childrenMap[f],v||(v={group:!0,field:m.colId,id:C--,key:f,expanded:this.isExpanded(r,p),children:[],parent:g===a?null:g,allChildrenCount:0,level:g.level+1,childrenMap:{}},g.childrenMap[f]=v,g.children.push(v),d.push(v)),v.allChildrenCount++,p==y?(h.parent=v===a?null:v,v.children.push(h)):g=v}for(u=0;u<d.length;u++)delete d[u].childrenMap;return a.children},e.prototype.isExpanded=function(e,t){return"number"==typeof e?e>t:e===!0||"true"===e},e}();e.GroupCreator=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=e.Constants,r=e.GroupCreator.getInstance(),o=function(){function e(){this.createModel()}return e.prototype.init=function(e,t,i,r,o,n){this.gridOptionsWrapper=e,this.columnModel=t,this.angularGrid=i,this.filterManager=r,this.$scope=o,this.expressionService=n,this.allRows=null,this.rowsAfterGroup=null,this.rowsAfterFilter=null,this.rowsAfterSort=null,this.rowsAfterMap=null},e.prototype.createModel=function(){var e=this;this.model={getTopLevelNodes:function(){return e.rowsAfterGroup},getVirtualRow:function(t){return e.rowsAfterMap[t]},getVirtualRowCount:function(){return e.rowsAfterMap?e.rowsAfterMap.length:0},forEachInMemory:function(t){e.forEachInMemory(t)}}},e.prototype.getModel=function(){return this.model},e.prototype.forEachInMemory=function(e){function t(i){if(i)for(var r=0;r<i.length;r++){var o=i[r];e(o),o.group&&o.children&&t(o.children)}}t(this.rowsAfterGroup)},e.prototype.updateModel=function(e){switch(e){case i.STEP_EVERYTHING:case i.STEP_FILTER:this.doFilter(),this.doAggregate();case i.STEP_SORT:this.doSort();case i.STEP_MAP:this.doGroupMapping()}if("function"==typeof this.gridOptionsWrapper.getModelUpdated()){this.gridOptionsWrapper.getModelUpdated()();var t=this.$scope;t&&setTimeout(function(){t.$apply()},0)}},e.prototype.defaultGroupAggFunctionFactory=function(e,t){function r(e,t,r){for(var o=null,n=0;n<e.length;n++){var s=e[n],l=s.data[r];if("number"==typeof l)switch(t){case i.SUM:o+=l;break;case i.MIN:null===o?o=l:o>l&&(o=l);break;case i.MAX:null===o?o=l:l>o&&(o=l)}}return o}return function(o){var n={};if(t)for(var s=0;s<t.length;s++){var l=t[s];n[l]=r(o,i.SUM,l)}if(e)for(var a=0;a<e.length;a++){
var d=e[a],u=d.colDef.field;n[u]=r(o,d.aggFunc,u)}return n}},e.prototype.getValue=function(e,i,r){var o=this.gridOptionsWrapper.getApi(),n=this.gridOptionsWrapper.getContext(),s=this.gridOptionsWrapper.isEnableCellExpressions();return t.getValue(this.expressionService,e,i,s,r,o,n)},e.prototype.doAggregate=function(){var e=this.gridOptionsWrapper.getGroupAggFunction();if("function"==typeof e)return void this.recursivelyCreateAggData(this.rowsAfterFilter,e,0);var t=this.columnModel.getValueColumns(),i=this.gridOptionsWrapper.getGroupAggFields();if(t&&t.length>0||i&&i.length>0){var r=this.defaultGroupAggFunctionFactory(t,i);this.recursivelyCreateAggData(this.rowsAfterFilter,r,0)}else this.gridOptionsWrapper.isRowsAlreadyGrouped()||this.recursivelyClearAggData(this.rowsAfterFilter)},e.prototype.expandOrCollapseAll=function(e,t){if(null===t&&(t=this.rowsAfterGroup),t){var i=this;t.forEach(function(t){t.group&&(t.expanded=e,i.expandOrCollapseAll(e,t.children))})}},e.prototype.recursivelyClearAggData=function(e){for(var t=0,i=e.length;i>t;t++){var r=e[t];r.group&&(this.recursivelyClearAggData(r.childrenAfterFilter),r.data=null)}},e.prototype.recursivelyCreateAggData=function(e,t,i){for(var r=0,o=e.length;o>r;r++){var n=e[r];if(n.group){this.recursivelyCreateAggData(n.childrenAfterFilter,t,i++);var s=t(n.childrenAfterFilter,i);n.data=s,n.sibling&&(n.sibling.data=s)}}},e.prototype.doSort=function(){var e;if(this.gridOptionsWrapper.isEnableServerSideSorting())e=!1;else{var t=[];this.columnModel.getAllColumns().forEach(function(e){if(e.sort){var r=e.sort===i.ASC;t.push({inverter:r?1:-1,sortedAt:e.sortedAt,colDef:e.colDef})}}),t.length>0&&(e=!0)}var r=this.rowsAfterFilter?this.rowsAfterFilter.slice(0):null;e?(t.sort(function(e,t){return e.sortedAt-t.sortedAt}),this.sortList(r,t)):this.recursivelyResetSort(r),this.rowsAfterSort=r},e.prototype.recursivelyResetSort=function(e){if(e)for(var t=0,i=e.length;i>t;t++){var r=e[t];r.group&&r.children&&(r.childrenAfterSort=r.childrenAfterFilter,this.recursivelyResetSort(r.children))}},e.prototype.sortList=function(e,i){function r(e,i,r,o){var n=l.getValue(e.data,r,e),s=l.getValue(i.data,r,i);return r.comparator?r.comparator(n,s,e,i,o):t.defaultComparator(n,s)}for(var o=0,n=e.length;n>o;o++){var s=e[o];s.group&&s.children&&(s.childrenAfterSort=s.childrenAfterFilter.slice(0),this.sortList(s.childrenAfterSort,i))}var l=this;e.sort(function(e,t){for(var o=0,n=i.length;n>o;o++){var s=i[o],l=r(e,t,s.colDef,-1===s.inverter);if(0!==l)return l*s.inverter}return 0})},e.prototype.doGrouping=function(){var e,t=this.columnModel.getGroupedColumns(),i=this.gridOptionsWrapper.isRowsAlreadyGrouped(),o=!i&&t.length>0;if(o){var n=this.gridOptionsWrapper.getGroupDefaultExpanded(),s=this.gridOptionsWrapper.getApi(),l=this.gridOptionsWrapper.getContext(),a=this.gridOptionsWrapper.isEnableCellExpressions();e=r.group(this.allRows,t,n,this.expressionService,s,l,a)}else e=this.allRows;this.rowsAfterGroup=e},e.prototype.doFilter=function(){var e;if(this.gridOptionsWrapper.isEnableServerSideFilter())e=!1;else{var t=null!==this.angularGrid.getQuickFilter(),i=this.filterManager.isFilterPresent();e=t||i}var r;e?r=this.filterItems(this.rowsAfterGroup,t,i):(r=this.rowsAfterGroup,this.recursivelyResetFilter(this.rowsAfterGroup)),this.rowsAfterFilter=r},e.prototype.filterItems=function(e,t,i){for(var r=[],o=0,n=e.length;n>o;o++){var s=e[o];s.group?(s.childrenAfterFilter=this.filterItems(s.children,t,i),s.childrenAfterFilter.length>0&&(s.allChildrenCount=this.getTotalChildCount(s.childrenAfterFilter),r.push(s))):this.doesRowPassFilter(s,t,i)&&r.push(s)}return r},e.prototype.recursivelyResetFilter=function(e){if(e)for(var t=0,i=e.length;i>t;t++){var r=e[t];r.group&&r.children&&(r.childrenAfterFilter=r.children,this.recursivelyResetFilter(r.children),r.allChildrenCount=this.getTotalChildCount(r.childrenAfterFilter))}},e.prototype.setAllRows=function(e,t){var i;if(this.gridOptionsWrapper.isRowsAlreadyGrouped())i=e,this.recursivelyCheckUserProvidedNodes(i,null,0);else{var i=[];if(e)for(var r=0;r<e.length;r++)i.push({data:e[r]})}var o=t?t:0;this.recursivelyAddIdToNodes(i,o),this.allRows=i,this.doGrouping()},e.prototype.recursivelyAddIdToNodes=function(e,t){if(e){for(var i=0;i<e.length;i++){var r=e[i];r.id=t++,r.group&&r.children&&(t=this.recursivelyAddIdToNodes(r.children,t))}return t}},e.prototype.recursivelyCheckUserProvidedNodes=function(e,t,i){if(e)for(var r=0;r<e.length;r++){var o=e[r];t&&(o.parent=t),o.level=i,o.group&&o.children&&this.recursivelyCheckUserProvidedNodes(o.children,o,i+1)}},e.prototype.getTotalChildCount=function(e){for(var t=0,i=0,r=e.length;r>i;i++){var o=e[i];o.group?t+=o.allChildrenCount:t++}return t},e.prototype.doGroupMapping=function(){var e=[];this.addToMap(e,this.rowsAfterSort),this.rowsAfterMap=e},e.prototype.addToMap=function(e,t){if(t)for(var i=0;i<t.length;i++){var r=t[i];if(e.push(r),r.group&&r.expanded&&(this.addToMap(e,r.childrenAfterSort),this.gridOptionsWrapper.isGroupIncludeFooter())){var o=this.createFooterNode(r);e.push(o)}}},e.prototype.createFooterNode=function(e){var t={};return Object.keys(e).forEach(function(i){t[i]=e[i]}),t.footer=!0,t.sibling=e,e.sibling=t,t},e.prototype.doesRowPassFilter=function(e,t,i){return t&&(e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(this.angularGrid.getQuickFilter())<0)?!1:i&&!this.filterManager.doesFilterPass(e)?!1:!0},e.prototype.aggregateRowForQuickFilter=function(e){var t="",i=this;this.columnModel.getAllColumns().forEach(function(r){var o=e.data,n=i.getValue(o,r.colDef,e);n&&""!==n&&(t=t+n.toString().toUpperCase()+"_")}),e.quickFilterAggregateText=t},e}();e.InMemoryRowController=o}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=!1,r=function(){function e(){}return e.prototype.init=function(e,t,i){this.rowRenderer=e,this.datasourceVersion=0,this.gridOptionsWrapper=t,this.angularGrid=i},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,this.maxConcurrentDatasourceRequests="number"==typeof this.datasource.maxConcurrentRequests&&this.datasource.maxConcurrentRequests>0?this.datasource.maxConcurrentRequests:2,this.maxPagesInCache="number"==typeof this.datasource.maxPagesInCache&&this.datasource.maxPagesInCache>0?this.datasource.maxPagesInCache:null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0)},e.prototype.createNodesFromRows=function(e,t){var i=[];if(t)for(var r=0,o=t.length;o>r;r++){var n=e*this.pageSize+r;i.push({data:t[r],id:n})}return i},e.prototype.removeFromLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e);this.pageLoadsInProgress.splice(t,1)},e.prototype.pageLoadFailed=function(e){this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.pageLoaded=function(e,t,i){this.putPageIntoCacheAndPurge(e,t),this.checkMaxRowAndInformRowRenderer(e,i),this.removeFromLoading(e),this.checkQueueForNextLoad()},e.prototype.putPageIntoCacheAndPurge=function(e,t){this.pageCache[e]=this.createNodesFromRows(e,t),this.pageCacheSize++,i&&console.log("adding page "+e);var r=this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize;if(r){var o=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache));i&&console.log("purging page "+o+" from cache "+Object.keys(this.pageCache)),delete this.pageCache[o],this.pageCacheSize--}},e.prototype.checkMaxRowAndInformRowRenderer=function(e,t){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if("number"==typeof t&&t>=0)this.virtualRowCount=t,this.foundMaxRow=!0;else{var i=(e+1)*this.pageSize+this.overflowSize;this.virtualRowCount<i&&(this.virtualRowCount=i)}this.rowRenderer.refreshView()}},e.prototype.isPageAlreadyLoading=function(e){var t=this.pageLoadsInProgress.indexOf(e)>=0||this.pageLoadsQueued.indexOf(e)>=0;return t},e.prototype.doLoadOrQueue=function(e){this.isPageAlreadyLoading(e)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(e):this.addToQueueAndPurgeQueue(e))},e.prototype.addToQueueAndPurgeQueue=function(e){i&&console.log("queueing "+e+" - "+this.pageLoadsQueued),this.pageLoadsQueued.push(e);var t=this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length;if(t){var r=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued);i&&console.log("de-queueing "+e+" - "+this.pageLoadsQueued);var o=this.pageLoadsQueued.indexOf(r);this.pageLoadsQueued.splice(o,1)}},e.prototype.findLeastRecentlyAccessedPage=function(e){var t=-1,i=Number.MAX_VALUE,r=this;return e.forEach(function(e){var o=r.pageAccessTimes[e];i>o&&(i=o,t=e)}),t},e.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var e=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1),i&&console.log("dequeueing "+e+" - "+this.pageLoadsQueued),this.loadPage(e)}},e.prototype.loadPage=function(e){function i(t,i){l.requestIsDaemon(a)||l.pageLoaded(e,t,i)}function r(){l.requestIsDaemon(a)||l.pageLoadFailed(e)}this.pageLoadsInProgress.push(e);var o,n=e*this.pageSize,s=(e+1)*this.pageSize,l=this,a=this.datasourceVersion;this.gridOptionsWrapper.isEnableServerSideSorting()&&(o=this.angularGrid.getSortModel());var d;this.gridOptionsWrapper.isEnableServerSideFilter()&&(d=this.angularGrid.getFilterModel());var u={startRow:n,endRow:s,successCallback:i,failCallback:r,sortModel:o,filterModel:d},p=t.getFunctionParameters(this.datasource.getRows);p.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(u)},e.prototype.requestIsDaemon=function(e){return this.datasourceVersion!==e},e.prototype.getVirtualRow=function(e){if(e>this.virtualRowCount)return null;var t=Math.floor(e/this.pageSize),i=this.pageCache[t];if(this.pageAccessTimes[t]=this.accessTime++,i){var r=e%this.pageSize;return i[r]}return this.doLoadOrQueue(t),{data:{},id:e}},e.prototype.forEachInMemory=function(e){for(var t=Object.keys(this.pageCache),i=0;i<t.length;i++)for(var r=t[i],o=this.pageCache[r],n=0;n<o.length;n++){var s=o[n];e(s)}},e.prototype.getModel=function(){var e=this;return{getVirtualRow:function(t){return e.getVirtualRow(t)},getVirtualRowCount:function(){return e.virtualRowCount},forEachInMemory:function(t){e.forEachInMemory(t)}}},e}();e.VirtualPageRowController=r}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i='<div class="ag-paging-panel"><span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel"><span id="firstRowOnPage"></span> [TO] <span id="lastRowOnPage"></span> [OF] <span id="recordCount"></span></span><span class="ag-paging-page-summary-panel"><button class="ag-paging-button" id="btFirst">[FIRST]</button><button class="ag-paging-button" id="btPrevious">[PREVIOUS]</button>[PAGE] <span id="current"></span> [OF] <span id="total"></span><button class="ag-paging-button" id="btNext">[NEXT]</button><button class="ag-paging-button" id="btLast">[LAST]</button></span></div>',r=function(){function e(){}return e.prototype.init=function(e,t){this.gridOptionsWrapper=t,this.angularGrid=e,this.setupComponents(),this.callVersion=0},e.prototype.setDatasource=function(e){this.datasource=e,e&&this.reset()},e.prototype.reset=function(){this.datasource.pageSize&&"number"!=typeof this.datasource.pageSize&&console.warn("datasource.pageSize should be a number"),this.pageSize=this.datasource.pageSize,"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage()},e.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.totalPages.toLocaleString(),this.lbRecordCount.innerHTML=this.rowCount.toLocaleString();else{var e=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e}},e.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},e.prototype.pageLoaded=function(e,t){var i=this.currentPage*this.pageSize;this.angularGrid.setRows(e,i),!this.foundMaxRow&&"number"==typeof t&&t>=0&&(this.foundMaxRow=!0,this.rowCount=t,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},e.prototype.updateRowLabels=function(){var e,t;this.isZeroPagesToDisplay()?(e=0,t=0):(e=this.pageSize*this.currentPage+1,t=e+this.pageSize-1,this.foundMaxRow&&t>this.rowCount&&(t=this.rowCount)),this.lbFirstRowOnPage.innerHTML=e.toLocaleString(),this.lbLastRowOnPage.innerHTML=t.toLocaleString(),this.ePageRowSummaryPanel.style.visibility=null},e.prototype.loadPage=function(){function e(e,t){s.isCallDaemon(n)||s.pageLoaded(e,t)}function i(){s.isCallDaemon(n)||s.angularGrid.setRows([])}this.enableOrDisableButtons();var r=this.currentPage*this.datasource.pageSize,o=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=(this.currentPage+1).toLocaleString(),this.callVersion++;var n=this.callVersion,s=this;this.angularGrid.showLoadingPanel(!0);var l;this.gridOptionsWrapper.isEnableServerSideSorting()&&(l=this.angularGrid.getSortModel());var a;this.gridOptionsWrapper.isEnableServerSideFilter()&&(a=this.angularGrid.getFilterModel());var d={startRow:r,endRow:o,successCallback:e,failCallback:i,sortModel:l,filterModel:a},u=t.getFunctionParameters(this.datasource.getRows);u.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(d)},e.prototype.isCallDaemon=function(e){return e!==this.callVersion},e.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},e.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},e.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},e.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},e.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},e.prototype.enableOrDisableButtons=function(){var e=0===this.currentPage;this.btPrevious.disabled=e,this.btFirst.disabled=e;var t=this.isZeroPagesToDisplay(),i=this.foundMaxRow&&this.currentPage===this.totalPages-1,r=i||t;this.btNext.disabled=r;var o=!this.foundMaxRow||t||this.currentPage===this.totalPages-1;this.btLast.disabled=o},e.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();return i.replace("[PAGE]",e("page","Page")).replace("[TO]",e("to","to")).replace("[OF]",e("of","of")).replace("[OF]",e("of","of")).replace("[FIRST]",e("first","First")).replace("[PREVIOUS]",e("previous","Previous")).replace("[NEXT]",e("next","Next")).replace("[LAST]",e("last","Last"))},e.prototype.getGui=function(){return this.eGui},e.prototype.setupComponents=function(){this.eGui=t.loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var e=this;this.btNext.addEventListener("click",function(){e.onBtNext()}),this.btPrevious.addEventListener("click",function(){e.onBtPrevious()}),this.btFirst.addEventListener("click",function(){e.onBtFirst()}),this.btLast.addEventListener("click",function(){e.onBtLast()})},e}();e.PaginationController=r}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(e){this.isLayoutPanel=!0,this.fullHeight=!e.north&&!e.south;var i;e.dontFill?(i='<div style="position: relative;"><div id="north"></div><div id="centerRow"><div id="west"></div><div id="east"></div><div id="center"></div></div><div id="south"></div><div id="overlay" style="position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!1):(i=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div><div id="overlay" style="position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>':'<div style="height: 100%; position: relative;"><div id="north"></div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div></div><div id="south"></div><div id="overlay" style="position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!0),this.eGui=t.loadTemplate(i),this.id="borderLayout",e.name&&(this.id+="_"+e.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],e&&this.setupPanels(e),this.setOverlayVisible(!1)}return e.prototype.setupPanels=function(e){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(e.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(e.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(e.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(e.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(e.center,this.eCenterWrapper),this.setupPanel(e.overlay,this.eOverlayWrapper)},e.prototype.setupPanel=function(e,t){return t?e?e.isLayoutPanel?(this.childPanels.push(e),t.appendChild(e.getGui()),e):(t.appendChild(e),null):(t.parentNode.removeChild(t),null):void 0},e.prototype.getGui=function(){return this.eGui},e.prototype.doLayout=function(){if(!t.isVisible(this.eGui))return!1;var e=!1,i=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout],r=this;if(t.forEach(i,function(t){var i=r.layoutChild(t);i&&(e=!0)}),this.layoutActive){var o=this.layoutHeight(),n=this.layoutWidth();(o||n)&&(e=!0)}var s=this.layoutChild(this.eCenterChildLayout);return s&&(e=!0),e},e.prototype.layoutChild=function(e){return e?e.doLayout():!1},e.prototype.layoutHeight=function(){if(this.fullHeight)return!1;var e=t.offsetHeight(this.eGui),i=t.offsetHeight(this.eNorthWrapper),r=t.offsetHeight(this.eSouthWrapper),o=e-i-r;return 0>o&&(o=0),this.centerHeightLastTime!==o?(this.eCenterRow.style.height=o+"px",this.centerHeightLastTime=o,!0):!1},e.prototype.layoutWidth=function(){var e=t.offsetWidth(this.eGui),i=t.offsetWidth(this.eEastWrapper),r=t.offsetWidth(this.eWestWrapper),o=e-i-r;0>o&&(o=0),this.eCenterWrapper.style.width=o+"px"},e.prototype.setEastVisible=function(e){this.eEastWrapper&&(this.eEastWrapper.style.display=e?"":"none"),this.doLayout()},e.prototype.setOverlayVisible=function(e){this.eOverlayWrapper&&(this.eOverlayWrapper.style.display=e?"":"none"),this.doLayout()},e.prototype.setSouthVisible=function(e){this.eSouthWrapper&&(this.eSouthWrapper.style.display=e?"":"none"),this.doLayout()},e}();e.BorderLayout=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t='<div><!-- header --><div class="ag-header"><div class="ag-pinned-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div></div><!-- body --><div class="ag-body"><div class="ag-pinned-cols-viewport"><div class="ag-pinned-cols-container"></div></div><div class="ag-body-viewport-wrapper"><div class="ag-body-viewport"><div class="ag-body-container"></div></div></div></div></div>',i='<div><!-- header --><div class="ag-header-container"></div><!-- body --><div class="ag-body-container"></div></div>',r='<div class="ag-loading-panel"><div class="ag-loading-wrapper"><span class="ag-loading-center">Loading...</span></div></div>',o=e.Utils,n=function(){function n(e){this.scrollLagCounter=0,this.gridOptionsWrapper=e,this.forPrint=this.gridOptionsWrapper.isDontUseScrolls(),this.setupComponents(),this.scrollWidth=o.getScrollbarWidth()}return n.prototype.setupComponents=function(){this.forPrint?(this.eRoot=o.loadTemplate(i),o.addCssClass(this.eRoot,"ag-root ag-no-scrolls")):(this.eRoot=o.loadTemplate(t),o.addCssClass(this.eRoot,"ag-root ag-scrolls")),this.findElements(),this.layout=new e.BorderLayout({overlay:o.loadTemplate(r),center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"}),this.addScrollListener()},n.prototype.ensureIndexVisible=function(e){var t=this.rowModel.getVirtualRowCount();if("number"!=typeof e||0>e||e>=t)return void console.warn("invalid row index for ensureIndexVisible: "+e);var i=this.gridOptionsWrapper.getRowHeight(),r=i*e,o=r+i,n=this.eBodyViewport.scrollTop,s=this.eBodyViewport.offsetHeight,l=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;l&&(s-=this.scrollWidth);var a=n+s,d=n>r,u=o>a;if(d)this.eBodyViewport.scrollTop=r;else if(u){var p=o-s;this.eBodyViewport.scrollTop=p}},n.prototype.ensureColIndexVisible=function(e){if("number"!=typeof e)return void console.warn("col index must be a number: "+e);var t=this.columnModel.getDisplayedColumns();if("number"!=typeof e||0>e||e>=t.length)return void console.warn("invalid col index for ensureColIndexVisible: "+e+", should be between 0 and "+(t.length-1));var i=t[e],r=this.gridOptionsWrapper.getPinnedColCount();if(r>e)return void console.warn("invalid col index for ensureColIndexVisible: "+e+", scrolling to a pinned col makes no sense");for(var o=0,n=r;e>n;n++)o+=t[n].actualWidth;var s=o+i.actualWidth,l=this.eBodyViewport.scrollLeft,a=this.eBodyViewport.offsetWidth,d=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;d&&(a-=this.scrollWidth);var u=l+a,p=l>o,h=s>u;if(p)this.eBodyViewport.scrollLeft=o;else if(h){var c=s-a;this.eBodyViewport.scrollLeft=c}},n.prototype.showLoading=function(e){this.layout.setOverlayVisible(e)},n.prototype.getWidthForSizeColsToFit=function(){var e=this.eBody.clientWidth,t=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;return t&&(e-=this.scrollWidth),e},n.prototype.init=function(e,t){this.columnModel=e,this.rowRenderer=t},n.prototype.setRowModel=function(e){this.rowModel=e},n.prototype.getBodyContainer=function(){return this.eBodyContainer},n.prototype.getBodyViewport=function(){return this.eBodyViewport},n.prototype.getPinnedColsContainer=function(){return this.ePinnedColsContainer},n.prototype.getHeaderContainer=function(){return this.eHeaderContainer},n.prototype.getRoot=function(){return this.eRoot},n.prototype.getPinnedHeader=function(){return this.ePinnedHeader},n.prototype.getHeader=function(){return this.eHeader},n.prototype.getRowsParent=function(){return this.eParentOfRows},n.prototype.findElements=function(){this.forPrint?(this.eHeaderContainer=this.eRoot.querySelector(".ag-header-container"),this.eBodyContainer=this.eRoot.querySelector(".ag-body-container"),this.eParentOfRows=this.eBodyContainer):(this.eBody=this.eRoot.querySelector(".ag-body"),this.eBodyContainer=this.eRoot.querySelector(".ag-body-container"),this.eBodyViewport=this.eRoot.querySelector(".ag-body-viewport"),this.eBodyViewportWrapper=this.eRoot.querySelector(".ag-body-viewport-wrapper"),this.ePinnedColsContainer=this.eRoot.querySelector(".ag-pinned-cols-container"),this.ePinnedColsViewport=this.eRoot.querySelector(".ag-pinned-cols-viewport"),this.ePinnedHeader=this.eRoot.querySelector(".ag-pinned-header"),this.eHeader=this.eRoot.querySelector(".ag-header"),this.eHeaderContainer=this.eRoot.querySelector(".ag-header-container"),this.eParentOfRows=this.eBody)},n.prototype.setBodyContainerWidth=function(){var e=this.columnModel.getBodyContainerWidth()+"px";this.eBodyContainer.style.width=e},n.prototype.setPinnedColContainerWidth=function(){if(!this.forPrint){var e=this.columnModel.getPinnedContainerWidth()+"px";this.ePinnedColsContainer.style.width=e,this.eBodyViewportWrapper.style.marginLeft=e}},n.prototype.showPinnedColContainersIfNeeded=function(){if(!this.forPrint){var e=this.gridOptionsWrapper.getPinnedColCount()>0;e?(this.ePinnedHeader.style.display="inline-block",this.ePinnedColsViewport.style.display="inline"):(this.ePinnedHeader.style.display="none",this.ePinnedColsViewport.style.display="none")}},n.prototype.setHeaderHeight=function(){var e=this.gridOptionsWrapper.getHeaderHeight(),t=e+"px";this.forPrint?this.eHeaderContainer.style.height=t:(this.eHeader.style.height=t,this.eBody.style.paddingTop=t)},n.prototype.setPinnedColHeight=function(){if(!this.forPrint){var e=this.eBodyViewport.offsetHeight;this.ePinnedColsViewport.style.height=e+"px"}},n.prototype.addScrollListener=function(){if(!this.forPrint){var e=this,t=-1,i=-1;this.eBodyViewport.addEventListener("scroll",function(){var r=e.eBodyViewport.scrollLeft,o=e.eBodyViewport.scrollTop;r!==t&&(t=r,e.scrollHeader(r)),o!==i&&(i=o,e.scrollPinned(o),e.requestDrawVirtualRows())}),this.ePinnedColsViewport.addEventListener("scroll",function(){e.ePinnedColsViewport.scrollTop=0})}},n.prototype.requestDrawVirtualRows=function(){var e,t=this;if(e=this.gridOptionsWrapper.isSuppressScrollLag()?!1:this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():o.isBrowserIE()||o.isBrowserSafari()){this.scrollLagCounter++;var i=this.scrollLagCounter;setTimeout(function(){t.scrollLagCounter===i&&t.rowRenderer.drawVirtualRows()},50)}else this.rowRenderer.drawVirtualRows()},n.prototype.scrollHeader=function(e){this.eHeaderContainer.style.left=-e+"px"},n.prototype.scrollPinned=function(e){this.ePinnedColsContainer.style.top=-e+"px"},n}();e.GridPanel=n}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function e(){document.addEventListener("mouseup",this.stopDragging.bind(this))}return e.getInstance=function(){return this.theInstance||(this.theInstance=new e),this.theInstance},e.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},e.prototype.setDragCssClasses=function(e,i){t.addOrRemoveCssClass(e,"ag-dragging",i),t.addOrRemoveCssClass(e,"ag-not-dragging",!i)},e.prototype.addDragSource=function(e,t){this.setDragCssClasses(e,!1),e.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,e,t))},e.prototype.onMouseDownDragSource=function(e,t){this.dragItem&&this.stopDragging();var i;t.getData&&(i=t.getData());var r;t.getContainerId&&(r=t.getContainerId()),this.dragItem={eDragSource:e,data:i,containerId:r},this.setDragCssClasses(this.dragItem.eDragSource,!0)},e.prototype.addDropTarget=function(e,t){var i=!1,r=!1,o=this;e.addEventListener("mouseover",function(){i||(i=!0,r=o.dragItem?t.acceptDrag(o.dragItem):!1)}),e.addEventListener("mouseout",function(){r&&t.noDrop(),i=!1,r=!1}),e.addEventListener("mouseup",function(){r&&o.dragItem&&t.drop(o.dragItem)})},e}();e.DragAndDropService=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=e.DragAndDropService.getInstance(),r='<div class="ag-list-selection"><div><div ag-repeat class="ag-list-item"></div></div></div>',o=0,n=1,s=-11,l=function(){function e(){this.setupComponents(),this.uniqueId="CheckboxSelection-"+Math.random(),this.modelChangedListeners=[],this.itemSelectedListeners=[],this.beforeDropListeners=[],this.dragSources=[],this.setupAsDropTarget()}return e.prototype.setEmptyMessage=function(e){this.emptyMessage=e,this.refreshView()},e.prototype.getUniqueId=function(){return this.uniqueId},e.prototype.addStyles=function(e){t.addStylesToElement(this.eGui,e)},e.prototype.addCssClass=function(e){t.addCssClass(this.eGui,e)},e.prototype.addDragSource=function(e){this.dragSources.push(e)},e.prototype.addModelChangedListener=function(e){this.modelChangedListeners.push(e)},e.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},e.prototype.addBeforeDropListener=function(e){this.beforeDropListeners.push(e)},e.prototype.fireModelChanged=function(){for(var e=0;e<this.modelChangedListeners.length;e++)this.modelChangedListeners[e](this.model)},e.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},e.prototype.fireBeforeDrop=function(e){for(var t=0;t<this.beforeDropListeners.length;t++)this.beforeDropListeners[t](e)},e.prototype.setupComponents=function(){this.eGui=t.loadTemplate(r),this.eFilterValueTemplate=this.eGui.querySelector("[ag-repeat]"),this.eListParent=this.eFilterValueTemplate.parentNode,t.removeAllChildren(this.eListParent)},e.prototype.setModel=function(e){this.model=e,this.refreshView()},e.prototype.getModel=function(){return this.model},e.prototype.setCellRenderer=function(e){this.cellRenderer=e},e.prototype.refreshView=function(){t.removeAllChildren(this.eListParent),this.model&&this.model.length>0?this.insertRows():this.insertBlankMessage()},e.prototype.insertRows=function(){for(var e=0;e<this.model.length;e++){var i=this.model[e],r=this.eFilterValueTemplate.cloneNode(!0);if(this.cellRenderer){var o={value:i};t.useRenderer(r,this.cellRenderer,o)}else r.innerHTML=i;r.addEventListener("click",this.fireItemSelected.bind(this,i)),this.addDragAndDropToListItem(r,i),this.eListParent.appendChild(r)}},e.prototype.insertBlankMessage=function(){if(this.emptyMessage){var e=document.createElement("div");e.style.color="grey",e.style.padding="4px",e.style.textAlign="center",e.innerHTML=this.emptyMessage,this.eListParent.appendChild(e)}},e.prototype.setupAsDropTarget=function(){i.addDropTarget(this.eGui,{acceptDrag:this.externalAcceptDrag.bind(this),drop:this.externalDrop.bind(this),noDrop:this.externalNoDrop.bind(this)})},e.prototype.externalAcceptDrag=function(e){var t=this.dragSources.indexOf(e.containerId)>=0;if(!t)return!1;var i=this.model.indexOf(e.data)>=0;return i?!1:(this.eGui.style.backgroundColor="lightgreen",!0)},e.prototype.externalDrop=function(e){var t=e.data;this.fireBeforeDrop(t),this.addItemToList(t),this.eGui.style.backgroundColor=""},e.prototype.externalNoDrop=function(){this.eGui.style.backgroundColor=""},e.prototype.addItemToList=function(e){this.model.push(e),this.refreshView(),this.fireModelChanged()},e.prototype.addDragAndDropToListItem=function(e,t){var r=this;i.addDragSource(e,{getData:function(){return t},getContainerId:function(){return r.uniqueId}}),i.addDropTarget(e,{acceptDrag:function(i){return r.internalAcceptDrag(t,i,e)},drop:function(e){r.internalDrop(t,e.data)},noDrop:function(){r.internalNoDrop(e)}})},e.prototype.internalAcceptDrag=function(e,t,i){var r=t.data!==e&&t.containerId===this.uniqueId;return r&&(this.dragAfterThisItem(e,t.data)?this.setDropCssClasses(i,n):this.setDropCssClasses(i,s)),r},e.prototype.internalDrop=function(e,t){
var i=this.model.indexOf(t),r=this.model.indexOf(e);this.model.splice(i,1),this.model.splice(r,0,t),this.refreshView(),this.fireModelChanged()},e.prototype.internalNoDrop=function(e){this.setDropCssClasses(e,o)},e.prototype.dragAfterThisItem=function(e,t){return this.model.indexOf(e)<this.model.indexOf(t)},e.prototype.setDropCssClasses=function(e,i){t.addOrRemoveCssClass(e,"ag-not-drop-target",i===o),t.addOrRemoveCssClass(e,"ag-drop-target-above",i===n),t.addOrRemoveCssClass(e,"ag-drop-target-below",i===s)},e.prototype.getGui=function(){return this.eGui},e}();e.AgList=l}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=e.SvgFactory.getInstance(),r=function(){function r(e,t){this.gridOptionsWrapper=t,this.setupComponents(),this.columnController=e;var i=this;this.columnController.addListener({columnsChanged:i.columnsChanged.bind(i)})}return r.prototype.columnsChanged=function(e){this.cColumnList.setModel(e)},r.prototype.getDragSource=function(){return this.cColumnList.getUniqueId()},r.prototype.columnCellRenderer=function(e){function r(){o.visible=!o.visible,p.cColumnList.refreshView(),p.columnController.onColumnStateChanged(),"function"==typeof p.gridOptionsWrapper.getColumnVisibilityChanged()&&p.gridOptionsWrapper.getColumnVisibilityChanged()(o)}var o=e.value,n=this.columnController.getDisplayNameForCol(o),s=document.createElement("span"),l=document.createElement("span");t.addCssClass(l,"ag-visible-icons");var a=t.createIcon("columnVisible",this.gridOptionsWrapper,o,i.createColumnShowingSvg),d=t.createIcon("columnHidden",this.gridOptionsWrapper,o,i.createColumnHiddenSvg);l.appendChild(a),l.appendChild(d),a.style.display=o.visible?"":"none",d.style.display=o.visible?"none":"",s.appendChild(l);var u=document.createElement("span");u.innerHTML=n,s.appendChild(u),o.visible||t.addCssClass(s,"ag-column-not-visible"),l.addEventListener("click",r);var p=this;return s},r.prototype.setupComponents=function(){this.cColumnList=new e.AgList,this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addStyles({height:"100%",overflow:"auto"});var t=this;this.cColumnList.addModelChangedListener(function(e){t.columnController.onColumnStateChanged(),"function"==typeof t.gridOptionsWrapper.getColumnOrderChanged()&&t.gridOptionsWrapper.getColumnOrderChanged()(e)});var i=this.gridOptionsWrapper.getLocaleTextFunc(),r=i("columns","Columns"),o=document.createElement("div");o.innerHTML='<div style="text-align: center;">'+r+"</div>",this.layout=new e.BorderLayout({center:this.cColumnList.getGui(),north:o})},r.prototype.setSelected=function(e,t){e.visible=t,this.columnController.onColumnStateChanged()},r.prototype.getGui=function(){return this.eRootPanel.getGui()},r}();e.ColumnSelectionPanel=r}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=e.SvgFactory.getInstance(),r=e.Constants,o=function(){function o(e,t,i){this.gridOptionsWrapper=i,this.setupComponents(),this.columnController=e,this.inMemoryRowController=t;var r=this;this.columnController.addListener({columnsChanged:r.columnsChanged.bind(r)})}return o.prototype.columnsChanged=function(e,t){this.cColumnList.setModel(t)},o.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},o.prototype.columnCellRenderer=function(e){var r=e.value,o=this.columnController.getDisplayNameForCol(r),n=document.createElement("span"),s=t.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,r,i.createArrowUpSvg);t.addCssClass(s,"ag-visible-icons"),n.appendChild(s);var l=this;s.addEventListener("click",function(){var e=l.cColumnList.getModel();e.splice(e.indexOf(r),1),l.cColumnList.setModel(e),l.onGroupingChanged()});var a=document.createElement("span");return a.innerHTML=o,n.appendChild(a),n},o.prototype.setupComponents=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("pivotedColumns","Pivoted Columns"),r=t("pivotedColumnsEmptyMessage","Drag columns from above to pivot");this.cColumnList=new e.AgList,this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this)),this.cColumnList.addModelChangedListener(this.onGroupingChanged.bind(this)),this.cColumnList.setEmptyMessage(r),this.cColumnList.addStyles({height:"100%",overflow:"auto"});var o=document.createElement("div");o.style.paddingTop="10px",o.innerHTML='<div style="text-align: center;">'+i+"</div>",this.layout=new e.BorderLayout({center:this.cColumnList.getGui(),north:o})},o.prototype.onGroupingChanged=function(){this.inMemoryRowController.doGrouping(),this.inMemoryRowController.updateModel(r.STEP_EVERYTHING),this.columnController.onColumnStateChanged()},o}();e.GroupSelectionPanel=o}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=e.SvgFactory.getInstance(),r=function(){function r(e){this.popupService=e,this.setupComponents(),this.itemSelectedListeners=[]}return r.prototype.setWidth=function(e){this.eValue.style.width=e+"px",this.agList.addStyles({width:e+"px"})},r.prototype.addItemSelectedListener=function(e){this.itemSelectedListeners.push(e)},r.prototype.fireItemSelected=function(e){for(var t=0;t<this.itemSelectedListeners.length;t++)this.itemSelectedListeners[t](e)},r.prototype.setupComponents=function(){this.eGui=document.createElement("span"),this.eValue=document.createElement("span"),this.eGui.appendChild(this.eValue),this.agList=new e.AgList,this.eValue.addEventListener("click",this.onClick.bind(this)),this.agList.addItemSelectedListener(this.itemSelected.bind(this)),this.agList.addCssClass("ag-popup-list"),t.addStylesToElement(this.eValue,{border:"1px solid darkgrey",display:"inline-block",paddingLeft:2}),t.addStylesToElement(this.eGui,{position:"relative"}),this.agList.addStyles({display:"inline-block",position:"absolute",top:0,left:0,backgroudColor:"white"})},r.prototype.itemSelected=function(e){this.setSelected(e),this.hidePopupCallback&&this.hidePopupCallback(),this.fireItemSelected(e)},r.prototype.onClick=function(){var e=this.agList.getGui();this.popupService.positionPopup(this.eGui,e,-1),this.hidePopupCallback=this.popupService.addAsModalPopup(e)},r.prototype.getGui=function(){return this.eGui},r.prototype.setSelected=function(e){this.selectedItem=e,this.refreshView()},r.prototype.setCellRenderer=function(e){this.agList.setCellRenderer(e),this.cellRenderer=e},r.prototype.refreshView=function(){if(t.removeAllChildren(this.eValue),this.selectedItem)if(this.cellRenderer){var e={value:this.selectedItem};t.useRenderer(this.eValue,this.cellRenderer,e)}else this.eValue.appendChild(document.createTextNode(this.selectedItem));var r=i.createSmallArrowDownSvg();r.style["float"]="right",r.style.marginTop="6",r.style.marginRight="2",this.eValue.appendChild(r)},r.prototype.setModel=function(e){this.agList.setModel(e)},r}();e.AgDropdownList=r}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.SvgFactory.getInstance(),i=e.Constants,r=e.Utils,o=function(){function o(e,t,i){this.popupService=i,this.gridOptionsWrapper=t,this.setupComponents(),this.columnController=e;var r=this;this.columnController.addListener({columnsChanged:r.columnsChanged.bind(r)})}return o.prototype.getLayout=function(){return this.layout},o.prototype.columnsChanged=function(e,t,i){this.cColumnList.setModel(i)},o.prototype.addDragSource=function(e){this.cColumnList.addDragSource(e)},o.prototype.cellRenderer=function(o){var n=o.value,s=this.columnController.getDisplayNameForCol(n),l=document.createElement("span"),a=r.createIcon("columnRemoveFromGroup",this.gridOptionsWrapper,n,t.createArrowUpSvg);r.addCssClass(a,"ag-visible-icons"),l.appendChild(a);var d=this;a.addEventListener("click",function(){var e=d.cColumnList.getModel();e.splice(e.indexOf(n),1),d.cColumnList.setModel(e),d.onValuesChanged()});var u=new e.AgDropdownList(this.popupService);u.setModel([i.SUM,i.MIN,i.MAX]),u.setSelected(n.aggFunc),u.setWidth(45),u.addItemSelectedListener(function(e){n.aggFunc=e,d.onValuesChanged()}),l.appendChild(u.getGui());var p=document.createElement("span");return p.innerHTML=s,p.style.paddingLeft="2px",l.appendChild(p),l},o.prototype.setupComponents=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("valueColumns","Value Columns"),r=t("valueColumnsEmptyMessage","Drag columns from above to create values");this.cColumnList=new e.AgList,this.cColumnList.setCellRenderer(this.cellRenderer.bind(this)),this.cColumnList.addModelChangedListener(this.onValuesChanged.bind(this)),this.cColumnList.setEmptyMessage(r),this.cColumnList.addStyles({height:"100%",overflow:"auto"}),this.cColumnList.addBeforeDropListener(this.beforeDropListener.bind(this));var o=document.createElement("div");o.style.paddingTop="10px",o.innerHTML='<div style="text-align: center;">'+i+"</div>",this.layout=new e.BorderLayout({center:this.cColumnList.getGui(),north:o})},o.prototype.beforeDropListener=function(e){e.aggFunc||(e.aggFunc=i.SUM)},o.prototype.onValuesChanged=function(){var e=this.gridOptionsWrapper.getApi();e.recomputeAggregates()},o}();e.ValuesSelectionPanel=o}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=function(){function e(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}return e.prototype.addPanel=function(e,t){var i;e.isLayoutPanel?(this.childPanels.push(e),i=e.getGui()):i=e,t&&(i.style.height=t),this.eGui.appendChild(i)},e.prototype.getGui=function(){return this.eGui},e.prototype.doLayout=function(){for(var e=0;e<this.childPanels.length;e++)this.childPanels[e].doLayout()},e}();e.VerticalStack=t}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=e.Utils,i=function(){function i(){this.layout=new e.VerticalStack}return i.prototype.init=function(i,r,o,n){var s=o.isToolPanelSuppressPivot(),l=o.isToolPanelSuppressValues(),a=!s,d=!s&&!l,u=new e.ColumnSelectionPanel(i,o),p=s?"100%":"50%";this.layout.addPanel(u.layout,p);var h=u.getDragSource();if(d){var c=new e.ValuesSelectionPanel(i,o,n);this.layout.addPanel(c.getLayout(),"25%"),c.addDragSource(h)}if(a){var g=new e.GroupSelectionPanel(i,r,o),f=d?"25%":"50%";this.layout.addPanel(g.layout,f),g.addDragSource(h)}var v=this.layout.getGui();t.addCssClass(v,"ag-tool-panel-container")},i}();e.ToolPanel=i}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=function(){function t(e,t,i,r,o,n,s,l,a){this.grid=e,this.rowRenderer=t,this.headerRenderer=i,this.filterManager=r,this.columnController=o,this.inMemoryRowController=n,this.selectionController=s,this.gridOptionsWrapper=l,this.gridPanel=a}return t.prototype.setDatasource=function(e){this.grid.setDatasource(e)},t.prototype.onNewDatasource=function(){this.grid.setDatasource()},t.prototype.setRows=function(e){this.grid.setRows(e)},t.prototype.onNewRows=function(){this.grid.setRows()},t.prototype.onNewCols=function(){this.grid.onNewCols()},t.prototype.unselectAll=function(){console.error("unselectAll deprecated, call deselectAll instead"),this.deselectAll()},t.prototype.refreshView=function(){this.rowRenderer.refreshView()},t.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},t.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},t.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons()},t.prototype.getModel=function(){return this.grid.rowModel},t.prototype.onGroupExpandedOrCollapsed=function(t){this.grid.updateModelAndRefresh(e.Constants.STEP_MAP,t)},t.prototype.expandAll=function(){this.inMemoryRowController.expandOrCollapseAll(!0,null),this.grid.updateModelAndRefresh(e.Constants.STEP_MAP)},t.prototype.collapseAll=function(){this.inMemoryRowController.expandOrCollapseAll(!1,null),this.grid.updateModelAndRefresh(e.Constants.STEP_MAP)},t.prototype.addVirtualRowListener=function(e,t){this.grid.addVirtualRowListener(e,t)},t.prototype.rowDataChanged=function(e){this.rowRenderer.rowDataChanged(e)},t.prototype.setQuickFilter=function(e){this.grid.onQuickFilterChanged(e)},t.prototype.selectIndex=function(e,t,i){this.selectionController.selectIndex(e,t,i)},t.prototype.deselectIndex=function(e){this.selectionController.deselectIndex(e)},t.prototype.selectNode=function(e,t,i){this.selectionController.selectNode(e,t,i)},t.prototype.deselectNode=function(e){this.selectionController.deselectNode(e)},t.prototype.selectAll=function(){this.selectionController.selectAll(),this.rowRenderer.refreshView()},t.prototype.deselectAll=function(){this.selectionController.deselectAll(),this.rowRenderer.refreshView()},t.prototype.recomputeAggregates=function(){this.inMemoryRowController.doAggregate(),this.rowRenderer.refreshGroupRows()},t.prototype.sizeColumnsToFit=function(){if(this.gridOptionsWrapper.isDontUseScrolls())return void console.warn("ag-grid: sizeColumnsToFit does not work when dontUseScrolls=true");var e=this.gridPanel.getWidthForSizeColsToFit();this.columnController.sizeColumnsToFit(e)},t.prototype.showLoading=function(e){this.grid.showLoadingPanel(e)},t.prototype.isNodeSelected=function(e){return this.selectionController.isNodeSelected(e)},t.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},t.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},t.prototype.ensureColIndexVisible=function(e){this.gridPanel.ensureColIndexVisible(e)},t.prototype.ensureIndexVisible=function(e){this.gridPanel.ensureIndexVisible(e)},t.prototype.ensureNodeVisible=function(e){this.grid.ensureNodeVisible(e)},t.prototype.forEachInMemory=function(e){this.grid.rowModel.forEachInMemory(e)},t.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(e)},t.prototype.getFilterApi=function(e){var t=this.grid.columnModel.getColumn(e);return this.filterManager.getFilterApi(t)},t.prototype.getColumnDef=function(e){var t=this.grid.columnModel.getColumn(e);return t?t.colDef:null},t.prototype.onFilterChanged=function(){this.grid.onFilterChanged()},t.prototype.setSortModel=function(e){this.grid.setSortModel(e)},t.prototype.getSortModel=function(){return this.grid.getSortModel()},t.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},t.prototype.getFilterModel=function(){return this.grid.getFilterModel()},t.prototype.getFocusedCell=function(){return this.rowRenderer.getFocusedCell()},t.prototype.setFocusedCell=function(e,t){this.grid.setFocusedCell(e,t)},t.prototype.showToolPanel=function(e){this.grid.showToolPanel(e)},t.prototype.isToolPanelShowing=function(){return this.grid.isToolPanelShowing()},t.prototype.hideColumn=function(e,t){this.columnController.hideColumns([e],t)},t.prototype.hideColumns=function(e,t){this.columnController.hideColumns(e,t)},t.prototype.getColumnState=function(){return this.columnController.getState()},t.prototype.setColumnState=function(t){this.columnController.setState(t),this.inMemoryRowController.doGrouping(),this.inMemoryRowController.updateModel(e.Constants.STEP_EVERYTHING),this.grid.refreshHeaderAndBody()},t.prototype.doLayout=function(){this.grid.doLayout()},t}();e.GridApi=t}(t=e.grid||(e.grid={}))}(awk||(awk={}));var awk;!function(e){var t;!function(e){var t=function(){function t(t,i,r,o,n){this.gridOptions=i,this.gridOptionsWrapper=new e.GridOptionsWrapper(this.gridOptions),this.setupComponents(r,o,t),this.gridOptions.api=new e.GridApi(this,this.rowRenderer,this.headerRenderer,this.filterManager,this.columnController,this.inMemoryRowController,this.selectionController,this.gridOptionsWrapper,this.gridPanel);var s=this;this.quickFilter=null,r&&r.$watch(n,function(e){s.onQuickFilterChanged(e)}),this.virtualRowCallbacks={},this.setupColumns(),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getAllRows());var l=this.gridOptionsWrapper.isDontUseScrolls();l||window.addEventListener("resize",this.doLayout.bind(this)),this.updateModelAndRefresh(e.Constants.STEP_EVERYTHING);var a=!this.gridOptionsWrapper.getAllRows()&&!this.gridOptionsWrapper.isVirtualPaging();this.showLoadingPanel(a),this.gridOptionsWrapper.getDatasource()&&this.setDatasource(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout(),"function"==typeof this.gridOptionsWrapper.getReady()&&this.gridOptionsWrapper.getReady()(i.api)}return t.prototype.periodicallyDoLayout=function(){if(!this.finished){var e=this;setTimeout(function(){e.doLayout(),e.periodicallyDoLayout()},500)}},t.prototype.setupComponents=function(t,i,r){var o=this.gridOptionsWrapper,n=o.isDontUseScrolls(),s=new e.SelectionController,l=new e.FilterManager,a=new e.SelectionRendererFactory,d=new e.ColumnController,u=new e.RowRenderer,p=new e.HeaderRenderer,h=new e.InMemoryRowController,c=new e.VirtualPageRowController,g=new e.ExpressionService,f=new e.TemplateService,v=new e.GridPanel(o),y=new e.PopupService,C=d.getModel();f.init(t),s.init(this,v,o,t,u),l.init(this,o,i,t,g,C,y),a.init(this,s),d.init(this,a,o,g),u.init(C,o,v,this,a,i,t,s,g,f),p.init(o,d,C,v,this,l,t,i,g),h.init(o,C,this,l,t,g),c.init(u,o,this),v.init(C,u);var m=null,w=null;n||(w=new e.ToolPanel,m=w.layout,w.init(d,h,o,y));var S=h.getModel();s.setRowModel(S),l.setRowModel(S),u.setRowModel(S),v.setRowModel(S);var R=null,b=null;n||(R=new e.PaginationController,R.init(this,o),b=R.getGui()),this.rowModel=S,this.selectionController=s,this.columnController=d,this.columnModel=C,this.inMemoryRowController=h,this.virtualPageRowController=c,this.rowRenderer=u,this.headerRenderer=p,this.paginationController=R,this.filterManager=l,this.toolPanel=w,this.gridPanel=v,this.eRootPanel=new e.BorderLayout({center:v.layout,east:m,south:b,dontFill:n,name:"eRootPanel"}),y.init(this.eRootPanel.getGui()),this.eRootPanel.setSouthVisible(!1),this.showToolPanel(o.isShowToolPanel()),r.appendChild(this.eRootPanel.getGui())},t.prototype.showToolPanel=function(e){return this.toolPanel?(this.toolPanelShowing=e,void this.eRootPanel.setEastVisible(e)):void(this.toolPanelShowing=!1)},t.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},t.prototype.setDatasource=function(e){e&&(this.gridOptions.datasource=e);var t=this.gridOptionsWrapper.getDatasource();this.doingVirtualPaging=this.gridOptionsWrapper.isVirtualPaging()&&t,this.doingPagination=t&&!this.doingVirtualPaging;var i;this.doingVirtualPaging?(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(t),this.rowModel=this.virtualPageRowController.getModel(),i=!1):this.doingPagination?(this.paginationController.setDatasource(t),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),i=!0):(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),i=!1),this.selectionController.setRowModel(this.rowModel),this.filterManager.setRowModel(this.rowModel),this.rowRenderer.setRowModel(this.rowModel),this.gridPanel.setRowModel(this.rowModel),this.eRootPanel.setSouthVisible(i),this.rowRenderer.refreshView(),this.doLayout()},t.prototype.refreshHeaderAndBody=function(){this.headerRenderer.refreshHeader(),this.headerRenderer.updateFilterIcons(),this.headerRenderer.updateSortIcons(),this.gridPanel.setBodyContainerWidth(),this.gridPanel.setPinnedColContainerWidth(),this.rowRenderer.refreshView()},t.prototype.setFinished=function(){window.removeEventListener("resize",this.doLayout),this.finished=!0},t.prototype.getQuickFilter=function(){return this.quickFilter},t.prototype.onQuickFilterChanged=function(e){if((void 0===e||""===e)&&(e=null),this.quickFilter!==e){if(this.gridOptionsWrapper.isVirtualPaging())return void console.warn("ag-grid: cannot do quick filtering when doing virtual paging");(void 0===e||""===e)&&(e=null),null!==e&&(e=e.toUpperCase()),this.quickFilter=e,this.onFilterChanged()}},t.prototype.onFilterChanged=function(){"function"==typeof this.gridOptionsWrapper.getBeforeFilterChanged()&&this.gridOptionsWrapper.getBeforeFilterChanged()(),this.headerRenderer.updateFilterIcons(),this.gridOptionsWrapper.isEnableServerSideFilter()?this.setDatasource():this.updateModelAndRefresh(e.Constants.STEP_FILTER),"function"==typeof this.gridOptionsWrapper.getAfterFilterChanged()&&this.gridOptionsWrapper.getAfterFilterChanged()()},t.prototype.onRowClicked=function(e,t,i){if(this.gridOptions.rowClicked){var r={node:i,data:i.data,event:e,rowIndex:t};this.gridOptions.rowClicked(r)}if(!i.group){var o=this.gridOptionsWrapper,n=this.selectionController;if(o.isRowSelection()&&!o.isSuppressRowClickSelection()){var s=e.ctrlKey||e.metaKey,l=s&&n.isNodeSelected(i)&&o.isRowDeselection();if(l)n.deselectNode(i);else{var a=s;n.selectNode(i,a)}}}},t.prototype.showLoadingPanel=function(e){this.gridPanel.showLoading(e)},t.prototype.setupColumns=function(){this.gridPanel.setHeaderHeight(),this.columnController.setColumns(this.gridOptionsWrapper.getColumnDefs()),this.gridPanel.showPinnedColContainersIfNeeded(),this.headerRenderer.refreshHeader(),this.gridOptionsWrapper.isDontUseScrolls()||(this.gridPanel.setPinnedColContainerWidth(),this.gridPanel.setBodyContainerWidth()),this.headerRenderer.updateFilterIcons()},t.prototype.updateModelAndRefresh=function(e,t){this.inMemoryRowController.updateModel(e),this.rowRenderer.refreshView(t)},t.prototype.setRows=function(t,i){t&&(this.gridOptions.rowData=t),this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getAllRows(),i),this.selectionController.deselectAll(),this.filterManager.onNewRowsLoaded(),this.updateModelAndRefresh(e.Constants.STEP_EVERYTHING),this.headerRenderer.updateFilterIcons(),this.showLoadingPanel(!1)},t.prototype.ensureNodeVisible=function(e){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var t=this.rowModel.getVirtualRowCount(),i="function"==typeof e,r=-1,o=0;t>o;o++){var n=this.rowModel.getVirtualRow(o);if(i){if(e(n)){r=o;break}}else if(e===n||e===n.data){r=o;break}}r>=0&&this.gridPanel.ensureIndexVisible(r)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.setFocusedCell=function(e,t){this.gridPanel.ensureIndexVisible(e),this.gridPanel.ensureColIndexVisible(t);var i=this;setTimeout(function(){i.rowRenderer.setFocusedCell(e,t)},10)},t.prototype.getSortModel=function(){var e,t=this.columnModel.getAllColumns(),i=[];for(e=0;e<t.length;e++)t[e].sort&&i.push(t[e]);i.sort(function(e,t){return e.sortedAt-t.sortedAt});var r=[];for(e=0;e<i.length;e++){var o={field:i[e].colDef.field,sort:i[e].sort};r.push(o)}return r},t.prototype.setSortModel=function(e){if(!this.gridOptionsWrapper.isEnableSorting())return void console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled");for(var t=null!==e&&void 0!==e&&e.length>0,i=this.columnModel.getAllColumns(),r=0;r<i.length;r++){var o=i[r],n=null,s=-1;if(t&&!o.colDef.suppressSorting)for(var l=0;l<e.length;l++){var a=e[l];"string"==typeof a.field&&"string"==typeof o.colDef.field&&a.field===o.colDef.field&&(n=a.sort,s=l)}n?(o.sort=n,o.sortedAt=s):(o.sort=null,o.sortedAt=null)}this.onSortingChanged()},t.prototype.onSortingChanged=function(){"function"==typeof this.gridOptionsWrapper.getBeforeSortChanged()&&this.gridOptionsWrapper.getBeforeSortChanged()(),this.headerRenderer.updateSortIcons(),this.gridOptionsWrapper.isEnableServerSideSorting()?this.setDatasource():this.updateModelAndRefresh(e.Constants.STEP_SORT),"function"==typeof this.gridOptionsWrapper.getAfterSortChanged()&&this.gridOptionsWrapper.getAfterSortChanged()()},t.prototype.addVirtualRowListener=function(e,t){this.virtualRowCallbacks[e]||(this.virtualRowCallbacks[e]=[]),this.virtualRowCallbacks[e].push(t)},t.prototype.onVirtualRowSelected=function(e,t){this.virtualRowCallbacks[e]&&this.virtualRowCallbacks[e].forEach(function(e){"function"==typeof e.rowRemoved&&e.rowSelected(t)}),this.rowRenderer.onRowSelected(e,t)},t.prototype.onVirtualRowRemoved=function(e){this.virtualRowCallbacks[e]&&this.virtualRowCallbacks[e].forEach(function(e){"function"==typeof e.rowRemoved&&e.rowRemoved()}),delete this.virtualRowCallbacks[e]},t.prototype.onNewCols=function(){this.setupColumns(),this.updateModelAndRefresh(e.Constants.STEP_EVERYTHING),this.doLayout()},t.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths(),this.gridPanel.setBodyContainerWidth()},t.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.gridPanel.setPinnedColContainerWidth()},t.prototype.doLayout=function(){var e=this.eRootPanel.doLayout();e&&(this.rowRenderer.drawVirtualRows(),this.gridPanel.setPinnedColHeight())},t}();e.Grid=t}(t=e.grid||(e.grid={}))}(awk||(awk={})),function(){function e(e,t,i,r){var o,n;if(r){var s=r.agGrid;if(n=s+".quickFilterText",o=t.$eval(s),!o)return void console.warn("WARNING - grid options for Angular Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}else if(console.warn("WARNING - Directive angular-grid is deprecated, you should use the ag-grid directive instead."),o=t.angularGrid,n="angularGrid.quickFilterText",!o)return void console.warn("WARNING - grid options for Angular Grid not found. Please ensure the attribute angular-grid points to a valid object on the scope");var l=e[0],a=new awk.grid.Grid(l,o,t,i,n);t.$on("$destroy",function(){a.setFinished()})}function t(e,t){var i;if("string"==typeof e){if(i=document.querySelector(e),!i)return void console.warn("WARNING - was not able to find element "+e+" in the DOM, Angular Grid initialisation aborted.")}else i=e;new awk.grid.Grid(i,t,null,null,null)}var i=this;if("undefined"!=typeof angular){var r=angular.module("angularGrid",[]);r.directive("angularGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile",e],scope:{angularGrid:"="}}}),r.directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",e],scope:!0}})}"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.angularGrid=t),i.angularGrid=t}.call(window);